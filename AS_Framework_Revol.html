<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartWAN 플랫폼 피드백 & 개선 도구</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2C3E50 0%, #3498DB 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 30px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #3498DB;
        }

        .section h2 {
            color: #2C3E50;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 600;
        }

        .input-group input,
        .input-group select,
        .input-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .input-group input:focus,
        .input-group select:focus,
        .input-group textarea:focus {
            outline: none;
            border-color: #3498DB;
        }

        .input-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .tool-usage {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .tool-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tool-item:hover {
            border-color: #3498DB;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .tool-item.selected {
            background: #3498DB;
            color: white;
            border-color: #3498DB;
        }

        .tool-item .name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .tool-item .usage {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .preset-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .preset-btn {
            padding: 10px 20px;
            background: white;
            border: 2px solid #3498DB;
            color: #3498DB;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .preset-btn:hover {
            background: #3498DB;
            color: white;
        }

        .analyze-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.3s;
            display: block;
            margin: 30px auto;
            font-weight: 600;
        }

        .analyze-btn:hover {
            transform: scale(1.05);
        }

        .results {
            display: none;
            margin-top: 30px;
        }

        .results.show {
            display: block;
        }

        .result-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .result-card h3 {
            color: #2C3E50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-card .icon {
            width: 30px;
            height: 30px;
            background: #3498DB;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .insight-list {
            list-style: none;
            padding: 0;
        }

        .insight-list li {
            padding: 10px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 3px solid #3498DB;
        }

        .priority {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 600;
            margin-left: 10px;
        }

        .priority.high {
            background: #ff4757;
            color: white;
        }

        .priority.medium {
            background: #ffa502;
            color: white;
        }

        .priority.low {
            background: #2ed573;
            color: white;
        }

        .chart-container {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .bar-chart {
            display: flex;
            align-items: flex-end;
            height: 200px;
            gap: 10px;
            padding: 10px;
        }

        .bar {
            flex: 1;
            background: linear-gradient(to top, #3498DB, #667eea);
            border-radius: 5px 5px 0 0;
            position: relative;
            min-height: 20px;
            transition: all 0.3s;
        }

        .bar:hover {
            opacity: 0.8;
        }

        .bar-label {
            position: absolute;
            bottom: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 0.8em;
            color: #666;
        }

        .bar-value {
            position: absolute;
            top: -25px;
            left: 0;
            right: 0;
            text-align: center;
            font-weight: bold;
            color: #2C3E50;
        }

        .export-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 20px;
            font-weight: 600;
        }

        .export-btn:hover {
            background: #229954;
        }

        .feedback-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }

        .tag {
            padding: 5px 12px;
            background: #e0e0e0;
            border-radius: 15px;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tag.selected {
            background: #3498DB;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🔄 SmartWAN 플랫폼 피드백 & 개선 도구</h1>
            <p>사용 데이터를 입력하고 플랫폼 개선 방향을 도출하세요</p>
        </div>

        <div class="content">
            <!-- 1. 사용 현황 입력 -->
            <div class="section">
                <h2>📊 도구별 사용 현황</h2>
                <div class="preset-buttons">
                    <button class="preset-btn" onclick="loadPreset('new_team')">🆕 신규팀</button>
                    <button class="preset-btn" onclick="loadPreset('active_team')">🔥 활발팀</button>
                    <button class="preset-btn" onclick="loadPreset('struggling_team')">😰 고전팀</button>
                    <button class="preset-btn" onclick="loadPreset('expert_team')">🏆 전문팀</button>
                </div>
                
                <div class="tool-usage" id="toolUsage">
                    <!-- 도구들이 동적으로 생성됨 -->
                </div>
            </div>

            <!-- 2. 피드백 수집 -->
            <div class="section">
                <h2>💬 사용자 피드백</h2>
                
                <div class="input-group">
                    <label>가장 유용한 도구 TOP 3</label>
                    <input type="text" id="topTools" placeholder="예: ROI 계산기, 경쟁사 배틀카드, Win/Loss 분석">
                </div>

                <div class="input-group">
                    <label>개선이 필요한 부분</label>
                    <textarea id="improvements" placeholder="어떤 기능이 불편하거나 추가되었으면 좋겠나요?"></textarea>
                </div>

                <div class="input-group">
                    <label>주요 문제점 태그 (클릭하여 선택)</label>
                    <div class="feedback-tags" id="problemTags">
                        <div class="tag" onclick="toggleTag(this)">📱 UI/UX 불편</div>
                        <div class="tag" onclick="toggleTag(this)">⚡ 속도 느림</div>
                        <div class="tag" onclick="toggleTag(this)">📊 데이터 부족</div>
                        <div class="tag" onclick="toggleTag(this)">🔧 기능 부족</div>
                        <div class="tag" onclick="toggleTag(this)">📚 학습 곡선</div>
                        <div class="tag" onclick="toggleTag(this)">🔗 연동 문제</div>
                        <div class="tag" onclick="toggleTag(this)">📝 문서 부족</div>
                        <div class="tag" onclick="toggleTag(this)">🎯 정확도 문제</div>
                    </div>
                </div>
            </div>

            <!-- 3. 비즈니스 성과 -->
            <div class="section">
                <h2>📈 비즈니스 성과 지표</h2>
                
                <div class="input-group">
                    <label>월 평균 사용자 수</label>
                    <input type="number" id="monthlyUsers" placeholder="예: 25">
                </div>

                <div class="input-group">
                    <label>도구 사용 후 성공률 변화 (%)</label>
                    <input type="number" id="successRate" placeholder="예: 15" min="-100" max="100">
                </div>

                <div class="input-group">
                    <label>영업 사이클 단축 (일)</label>
                    <input type="number" id="cycleReduction" placeholder="예: 7">
                </div>
            </div>

            <button class="analyze-btn" onclick="analyzeData()">
                🔍 분석 및 개선안 도출
            </button>

            <!-- 분석 결과 -->
            <div class="results" id="results">
                <!-- 1. 사용 패턴 분석 -->
                <div class="result-card">
                    <h3>
                        <span class="icon">📊</span>
                        사용 패턴 분석
                    </h3>
                    <div class="chart-container">
                        <div class="bar-chart" id="usageChart"></div>
                    </div>
                    <ul class="insight-list" id="usageInsights"></ul>
                </div>

                <!-- 2. 우선순위 개선사항 -->
                <div class="result-card">
                    <h3>
                        <span class="icon">🎯</span>
                        우선순위 개선사항
                    </h3>
                    <ul class="insight-list" id="priorityItems"></ul>
                </div>

                <!-- 3. 플랫폼 발전 로드맵 -->
                <div class="result-card">
                    <h3>
                        <span class="icon">🗺️</span>
                        플랫폼 발전 로드맵
                    </h3>
                    <ul class="insight-list" id="roadmapItems"></ul>
                </div>

                <!-- 4. 즉시 실행 가능한 액션 -->
                <div class="result-card">
                    <h3>
                        <span class="icon">⚡</span>
                        즉시 실행 가능한 액션
                    </h3>
                    <ul class="insight-list" id="quickActions"></ul>
                </div>

                <!-- 5. 새로운 도구 제안 -->
                <div class="result-card">
                    <h3>
                        <span class="icon">💡</span>
                        새로운 도구 제안
                    </h3>
                    <ul class="insight-list" id="newToolSuggestions"></ul>
                </div>

                <button class="export-btn" onclick="exportReport()">
                    📄 리포트 다운로드
                </button>
            </div>
        </div>
    </div>

    <script>
        // 도구 목록
        const tools = [
            // 분석 단계
            { name: '고객 세그먼트 식별기', stage: '분석', usage: 0 },
            { name: '고객 관계 매퍼', stage: '분석', usage: 0 },
            { name: 'BANT & Lead Scoring', stage: '분석', usage: 0 },
            // 영업 단계
            { name: '경쟁사 배틀카드', stage: '영업', usage: 0 },
            { name: '영업 스크립트 생성기', stage: '영업', usage: 0 },
            { name: 'ROI 계산기', stage: '영업', usage: 0 },
            { name: '고객 인지편향 분석', stage: '영업', usage: 0 },
            // 제안 단계
            { name: '제안서 생성기', stage: '제안', usage: 0 },
            { name: '통합 견적 계산기', stage: '제안', usage: 0 },
            { name: 'Value Story Builder', stage: '제안', usage: 0 },
            // 입찰 단계
            { name: '프레젠테이션 코치', stage: '입찰', usage: 0 },
            { name: '협상 플레이북', stage: '입찰', usage: 0 },
            // 관리 단계
            { name: 'Win/Loss 분석', stage: '관리', usage: 0 },
            { name: '계정 성장 플래너', stage: '관리', usage: 0 },
            { name: '팔로업 트래커', stage: '관리', usage: 0 }
        ];

        // 초기화
        function initTools() {
            const container = document.getElementById('toolUsage');
            container.innerHTML = '';
            
            tools.forEach((tool, index) => {
                const div = document.createElement('div');
                div.className = 'tool-item';
                div.innerHTML = `
                    <div class="name">${tool.name}</div>
                    <div class="usage">
                        <select onchange="updateUsage(${index}, this.value)">
                            <option value="0">미사용</option>
                            <option value="1">월 1-2회</option>
                            <option value="2">주 1-2회</option>
                            <option value="3">주 3-4회</option>
                            <option value="4">매일 사용</option>
                        </select>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        // 사용량 업데이트
        function updateUsage(index, value) {
            tools[index].usage = parseInt(value);
        }

        // 프리셋 로드
        function loadPreset(type) {
            const presets = {
                new_team: [1,0,1,2,1,2,0,1,1,0,0,0,1,0,0],
                active_team: [3,2,3,4,3,4,2,3,2,2,2,2,3,2,2],
                struggling_team: [1,1,0,1,0,1,0,0,0,0,0,0,1,0,0],
                expert_team: [4,3,4,4,4,4,3,3,3,3,3,3,4,3,3]
            };

            const values = presets[type];
            const selects = document.querySelectorAll('.tool-item select');
            selects.forEach((select, index) => {
                select.value = values[index] || 0;
                tools[index].usage = values[index] || 0;
            });
        }

        // 태그 토글
        function toggleTag(element) {
            element.classList.toggle('selected');
        }

        // 데이터 분석
        function analyzeData() {
            const topTools = document.getElementById('topTools').value;
            const improvements = document.getElementById('improvements').value;
            const monthlyUsers = document.getElementById('monthlyUsers').value || 10;
            const successRate = document.getElementById('successRate').value || 0;
            const cycleReduction = document.getElementById('cycleReduction').value || 0;
            
            // 선택된 문제점 태그
            const selectedTags = Array.from(document.querySelectorAll('.tag.selected'))
                .map(tag => tag.textContent);

            // 사용 패턴 차트 생성
            createUsageChart();
            
            // 인사이트 생성
            generateUsageInsights();
            generatePriorityItems(selectedTags, improvements);
            generateRoadmap();
            generateQuickActions(selectedTags);
            generateNewToolSuggestions(topTools, improvements);
            
            // 결과 표시
            document.getElementById('results').classList.add('show');
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        // 사용 패턴 차트
        function createUsageChart() {
            const stages = ['분석', '영업', '제안', '입찰', '관리'];
            const stageUsage = {};
            
            stages.forEach(stage => {
                stageUsage[stage] = tools
                    .filter(t => t.stage === stage)
                    .reduce((sum, t) => sum + t.usage, 0);
            });
            
            const maxUsage = Math.max(...Object.values(stageUsage));
            const chartContainer = document.getElementById('usageChart');
            chartContainer.innerHTML = '';
            
            Object.entries(stageUsage).forEach(([stage, usage]) => {
                const bar = document.createElement('div');
                bar.className = 'bar';
                bar.style.height = `${(usage / maxUsage) * 100}%`;
                bar.innerHTML = `
                    <div class="bar-value">${usage}</div>
                    <div class="bar-label">${stage}</div>
                `;
                chartContainer.appendChild(bar);
            });
        }

        // 사용 패턴 인사이트
        function generateUsageInsights() {
            const insights = [];
            const totalUsage = tools.reduce((sum, t) => sum + t.usage, 0);
            const avgUsage = totalUsage / tools.length;
            
            // 가장 많이 사용되는 도구
            const mostUsed = tools.sort((a, b) => b.usage - a.usage)[0];
            if (mostUsed.usage > 0) {
                insights.push(`🔥 "${mostUsed.name}"이(가) 가장 활발히 사용되고 있습니다 (사용률: ${mostUsed.usage * 25}%)`);
            }
            
            // 사용률이 낮은 단계
            const stageUsage = {};
            ['분석', '영업', '제안', '입찰', '관리'].forEach(stage => {
                stageUsage[stage] = tools.filter(t => t.stage === stage)
                    .reduce((sum, t) => sum + t.usage, 0);
            });
            
            const lowStage = Object.entries(stageUsage)
                .sort((a, b) => a[1] - b[1])[0];
            if (lowStage[1] < avgUsage * 3) {
                insights.push(`⚠️ "${lowStage[0]}" 단계의 도구 활용도가 낮습니다. 교육이나 개선이 필요할 수 있습니다`);
            }
            
            // 미사용 도구
            const unusedTools = tools.filter(t => t.usage === 0);
            if (unusedTools.length > 0) {
                insights.push(`💤 ${unusedTools.length}개 도구가 전혀 사용되지 않고 있습니다. 통합이나 제거를 고려하세요`);
            }
            
            // 활용도 패턴
            if (avgUsage > 2) {
                insights.push(`✅ 전반적으로 플랫폼이 활발히 사용되고 있습니다 (평균 활용도: ${(avgUsage * 25).toFixed(0)}%)`);
            } else {
                insights.push(`📈 플랫폼 활용도를 높이기 위한 사용자 교육이 필요합니다`);
            }
            
            document.getElementById('usageInsights').innerHTML = 
                insights.map(i => `<li>${i}</li>`).join('');
        }

        // 우선순위 개선사항
        function generatePriorityItems(tags, feedback) {
            const items = [];
            
            if (tags.includes('📱 UI/UX 불편')) {
                items.push({
                    text: 'UI/UX 전면 개편: 모바일 반응형 디자인 적용 및 다크모드 지원',
                    priority: 'high'
                });
            }
            
            if (tags.includes('⚡ 속도 느림')) {
                items.push({
                    text: '성능 최적화: 코드 경량화 및 CDN 적용으로 로딩 속도 50% 개선',
                    priority: 'high'
                });
            }
            
            if (tags.includes('📊 데이터 부족')) {
                items.push({
                    text: '데이터 확충: 업종별 벤치마크 데이터 및 사례 DB 구축',
                    priority: 'medium'
                });
            }
            
            if (tags.includes('🔧 기능 부족')) {
                items.push({
                    text: 'AI 기능 강화: GPT 기반 자동 제안 및 예측 기능 추가',
                    priority: 'medium'
                });
            }
            
            if (tags.includes('📚 학습 곡선')) {
                items.push({
                    text: '온보딩 개선: 인터랙티브 튜토리얼 및 동영상 가이드 제작',
                    priority: 'high'
                });
            }
            
            if (feedback && feedback.length > 10) {
                items.push({
                    text: `사용자 요청 반영: ${feedback.substring(0, 50)}...`,
                    priority: 'medium'
                });
            }
            
            // 기본 개선사항
            if (items.length === 0) {
                items.push(
                    { text: '도구 간 데이터 연동 강화', priority: 'high' },
                    { text: '실시간 협업 기능 추가', priority: 'medium' },
                    { text: '고급 분석 대시보드 구축', priority: 'low' }
                );
            }
            
            document.getElementById('priorityItems').innerHTML = items
                .sort((a, b) => {
                    const order = { high: 0, medium: 1, low: 2 };
                    return order[a.priority] - order[b.priority];
                })
                .map(item => `
                    <li>
                        ${item.text}
                        <span class="priority ${item.priority}">
                            ${item.priority === 'high' ? '긴급' : item.priority === 'medium' ? '중요' : '권장'}
                        </span>
                    </li>
                `).join('');
        }

        // 로드맵 생성
        function generateRoadmap() {
            const roadmap = [
                {
                    phase: 'Phase 1 (1개월)',
                    items: [
                        '🔧 긴급 버그 수정 및 성능 최적화',
                        '📱 모바일 UI 개선',
                        '📚 사용자 가이드 업데이트'
                    ]
                },
                {
                    phase: 'Phase 2 (2-3개월)',
                    items: [
                        '🤖 AI 기능 통합 (자동 추천, 예측)',
                        '🔗 도구 간 데이터 연동 구현',
                        '📊 고급 분석 대시보드 개발'
                    ]
                },
                {
                    phase: 'Phase 3 (4-6개월)',
                    items: [
                        '🌐 외부 시스템 연동 (CRM, ERP)',
                        '👥 실시간 협업 기능',
                        '📈 예측 분석 및 시뮬레이션 도구'
                    ]
                }
            ];
            
            document.getElementById('roadmapItems').innerHTML = roadmap
                .map(phase => `
                    <li>
                        <strong>${phase.phase}</strong>
                        <ul style="margin-top: 10px;">
                            ${phase.items.map(item => `<li style="margin-left: 20px;">${item}</li>`).join('')}
                        </ul>
                    </li>
                `).join('');
        }

        // 즉시 실행 가능한 액션
        function generateQuickActions(tags) {
            const actions = [
                '✅ 자주 사용되는 도구 3개를 홈 화면에 바로가기 추가',
                '✅ 도구별 사용 팁을 툴팁으로 표시',
                '✅ 최근 사용 기록 및 즐겨찾기 기능 추가',
                '✅ 데이터 입력 자동완성 기능 활성화'
            ];
            
            if (tags.includes('📚 학습 곡선')) {
                actions.unshift('✅ 각 도구에 3분 동영상 튜토리얼 링크 추가');
            }
            
            if (tags.includes('📱 UI/UX 불편')) {
                actions.unshift('✅ 폰트 크기 조절 및 고대비 모드 옵션 추가');
            }
            
            document.getElementById('quickActions').innerHTML = 
                actions.slice(0, 5).map(a => `<li>${a}</li>`).join('');
        }

        // 새로운 도구 제안
        function generateNewToolSuggestions(topTools, feedback) {
            const suggestions = [];
            
            // 사용 패턴 기반 제안
            const analysisUsage = tools.filter(t => t.stage === '분석')
                .reduce((sum, t) => sum + t.usage, 0);
            
            if (analysisUsage > 10) {
                suggestions.push({
                    name: '🎯 AI 고객 인사이트 엔진',
                    desc: '머신러닝 기반 고객 행동 예측 및 자동 세그먼테이션'
                });
            }
            
            // 피드백 기반 제안
            if (feedback.includes('자동') || feedback.includes('AI')) {
                suggestions.push({
                    name: '🤖 스마트 영업 어시스턴트',
                    desc: 'ChatGPT 기반 실시간 영업 코칭 및 스크립트 생성'
                });
            }
            
            if (feedback.includes('모니터링') || feedback.includes('대시보드')) {
                suggestions.push({
                    name: '📊 통합 성과 대시보드',
                    desc: '모든 도구의 데이터를 한눈에 보는 실시간 BI 대시보드'
                });
            }
            
            // 기본 제안
            suggestions.push(
                {
                    name: '🔮 영업 기회 예측기',
                    desc: '과거 데이터 기반 성공 확률 예측 및 최적 전략 추천'
                },
                {
                    name: '📧 스마트 이메일 작성기',
                    desc: '상황별 맞춤형 영업 이메일 자동 생성 및 A/B 테스트'
                }
            );
            
            document.getElementById('newToolSuggestions').innerHTML = suggestions
                .slice(0, 4)
                .map(s => `
                    <li>
                        <strong>${s.name}</strong><br>
                        <span style="color: #666; font-size: 0.9em;">${s.desc}</span>
                    </li>
                `).join('');
        }

        // 리포트 다운로드
        function exportReport() {
            const report = {
                date: new Date().toLocaleDateString('ko-KR'),
                usage: tools.map(t => ({ name: t.name, stage: t.stage, usage: t.usage })),
                insights: Array.from(document.querySelectorAll('#usageInsights li'))
                    .map(li => li.textContent),
                priorities: Array.from(document.querySelectorAll('#priorityItems li'))
                    .map(li => li.textContent.trim()),
                roadmap: Array.from(document.querySelectorAll('#roadmapItems li'))
                    .map(li => li.textContent.trim()),
                quickActions: Array.from(document.querySelectorAll('#quickActions li'))
                    .map(li => li.textContent),
                newTools: Array.from(document.querySelectorAll('#newToolSuggestions li'))
                    .map(li => li.textContent.trim())
            };
            
            const reportText = `SmartWAN 플랫폼 분석 리포트
생성일: ${report.date}

=== 도구별 사용 현황 ===
${report.usage.map(t => `- ${t.name} (${t.stage}): ${['미사용', '월 1-2회', '주 1-2회', '주 3-4회', '매일'][t.usage]}`).join('\n')}

=== 주요 인사이트 ===
${report.insights.join('\n')}

=== 우선순위 개선사항 ===
${report.priorities.join('\n')}

=== 발전 로드맵 ===
${report.roadmap.join('\n')}

=== 즉시 실행 가능한 액션 ===
${report.quickActions.join('\n')}

=== 신규 도구 제안 ===
${report.newTools.join('\n')}
`;
            
            // 다운로드
            const blob = new Blob([reportText], { type: 'text/plain;charset=utf-8' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `SmartWAN_플랫폼_분석리포트_${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            
            alert('리포트가 다운로드되었습니다!');
        }

        // 페이지 로드 시 초기화
        window.onload = function() {
            initTools();
        };
    </script>
</body>
</html>
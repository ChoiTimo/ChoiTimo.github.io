<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartWAN ê³ ê° ê´€ê³„ ê³µëµ ë„êµ¬ v2.0</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .version-badge {
            display: inline-block;
            background: #48bb78;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-top: 10px;
        }

        .content {
            padding: 40px;
        }

        /* í”„ë¦¬ì…‹ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .preset-section {
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #fef5e7 0%, #fdebd0 100%);
            border-radius: 15px;
            border: 2px solid #f6e05e;
        }

        .preset-section h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.5em;
            display: flex;
            align-items: center;
        }

        .preset-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .preset-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .preset-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-color: #667eea;
        }

        .preset-card.selected {
            border-color: #667eea;
            background: #ebf8ff;
        }

        .preset-title {
            font-size: 1.2em;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .preset-description {
            color: #718096;
            font-size: 0.95em;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .preset-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .preset-tag {
            background: #edf2f7;
            color: #4a5568;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.85em;
        }

        .load-preset-btn {
            background: linear-gradient(135deg, #f6ad55 0%, #ed8936 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 15px;
        }

        .load-preset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(237, 137, 54, 0.3);
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .section h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.5em;
            display: flex;
            align-items: center;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a5568;
        }

        .form-group select,
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group select:focus,
        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .stakeholder-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #48bb78;
            position: relative;
        }

        .stakeholder-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 20px;
        }

        .stakeholder-info {
            flex: 1;
        }

        .stakeholder-name {
            font-size: 1.3em;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .stakeholder-role {
            color: #718096;
            font-size: 1.1em;
        }

        .influence-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .influence-level {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9em;
        }

        .influence-high { background: #f56565; color: white; }
        .influence-medium { background: #ed8936; color: white; }
        .influence-low { background: #68d391; color: white; }

        .relationship-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .metric-item {
            text-align: center;
            padding: 15px;
            background: #f7fafc;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
        }

        .metric-label {
            font-size: 0.9em;
            color: #718096;
            margin-bottom: 5px;
        }

        .metric-value {
            font-size: 1.2em;
            font-weight: 700;
            color: #2d3748;
        }

        .sentiment-positive { color: #48bb78; }
        .sentiment-neutral { color: #ed8936; }
        .sentiment-negative { color: #f56565; }

        .strategy-box {
            background: #ebf8ff;
            border: 2px solid #bee3f8;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
        }

        .strategy-title {
            color: #2b6cb0;
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .action-items {
            background: #f0fff4;
            border: 2px solid #c6f6d5;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
        }

        .action-title {
            color: #22543d;
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .warning-box {
            background: #fef5e7;
            border: 2px solid #f6e05e;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
        }

        .warning-title {
            color: #d69e2e;
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .add-stakeholder-btn {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(72, 187, 120, 0.3);
        }

        .add-stakeholder-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.4);
        }

        .analyze-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 40px auto;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .relationship-map {
            margin-top: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 15px;
            border: 2px solid #e2e8f0;
            display: none;
        }

        .relationship-map.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .pipeline-strategy {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }

        .priority-badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            margin-left: 15px;
        }

        .priority-critical { background: #f56565; color: white; }
        .priority-high { background: #ed8936; color: white; }
        .priority-medium { background: #48bb78; color: white; }

        .champion-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ffd700;
            color: #2d3748;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .blocker-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #f56565;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .slider-container {
            margin: 15px 0;
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: 5px;
            background: #e2e8f0;
            outline: none;
            transition: all 0.3s ease;
        }

        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        .delete-btn {
            background: #f56565;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .delete-btn:hover {
            background: #e53e3e;
            transform: translateY(-1px);
        }

        .clear-all-btn {
            background: #718096;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95em;
            transition: all 0.3s ease;
            margin-left: 10px;
        }

        .clear-all-btn:hover {
            background: #4a5568;
        }

        @media (max-width: 768px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            
            .content {
                padding: 20px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }

            .relationship-metrics {
                grid-template-columns: repeat(2, 1fr);
            }

            .preset-cards {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ SmartWAN ê³ ê° ê´€ê³„ ê³µëµ ë„êµ¬</h1>
            <p>B2B ì˜ì—… ì „ë¬¸ê°€ê°€ ì„¤ê³„í•œ ì „ëµì  ê´€ê³„ ë§¤í•‘ & ê³µëµ ì‹œìŠ¤í…œ</p>
            <span class="version-badge">v2.0 - í”„ë¦¬ì…‹ ì¶”ê°€</span>
        </div>

        <div class="content">
            <!-- í”„ë¦¬ì…‹ ì„¹ì…˜ -->
            <div class="preset-section">
                <h2>âš¡ ë¹ ë¥¸ ì‹œì‘ - ì˜ì—… ì‹œë‚˜ë¦¬ì˜¤ í”„ë¦¬ì…‹</h2>
                
                <div class="preset-cards">
                    <div class="preset-card" id="preset1">
                        <div class="preset-title">ğŸ¢ ëŒ€ê¸°ì—… ì‹ ê·œ ì§„ì…</div>
                        <div class="preset-description">
                            ì²˜ìŒ ì ‘ì´‰í•˜ëŠ” ëŒ€ê¸°ì—… ê³ ê°ì‚¬ë¥¼ ê³µëµí•  ë•Œ ì‚¬ìš©í•˜ëŠ” í‘œì¤€ í…œí”Œë¦¿ì…ë‹ˆë‹¤. 
                            ë³µì¡í•œ ì˜ì‚¬ê²°ì • êµ¬ì¡°ì™€ ë‹¤ìˆ˜ì˜ ì´í•´ê´€ê³„ìê°€ ìˆëŠ” ìƒí™©ì„ ê°€ì •í•©ë‹ˆë‹¤.
                        </div>
                        <div class="preset-tags">
                            <span class="preset-tag">10ì–µ+ ë”œ</span>
                            <span class="preset-tag">6ê°œì›” ì‚¬ì´í´</span>
                            <span class="preset-tag">5ëª…+ ì´í•´ê´€ê³„ì</span>
                        </div>
                        <button class="load-preset-btn" onclick="loadPreset('enterprise')">
                            ì´ í…œí”Œë¦¿ ì‚¬ìš©í•˜ê¸°
                        </button>
                    </div>

                    <div class="preset-card" id="preset2">
                        <div class="preset-title">ğŸš€ ìŠ¤íƒ€íŠ¸ì—…/ì¤‘ê²¬ê¸°ì—… ë¹ ë¥¸ ë”œ</div>
                        <div class="preset-description">
                            ë¹ ë¥¸ ì˜ì‚¬ê²°ì •ì´ ê°€ëŠ¥í•œ ìŠ¤íƒ€íŠ¸ì—…ì´ë‚˜ ì¤‘ê²¬ê¸°ì—…ì„ ëŒ€ìƒìœ¼ë¡œ í•œ í…œí”Œë¦¿ì…ë‹ˆë‹¤.
                            ì‹¤ë¬´ìì™€ ê²°ì •ê¶Œìê°€ ê°€ê¹Œìš´ í™˜ê²½ì„ ê°€ì •í•©ë‹ˆë‹¤.
                        </div>
                        <div class="preset-tags">
                            <span class="preset-tag">1-5ì–µ ë”œ</span>
                            <span class="preset-tag">2-3ê°œì›” ì‚¬ì´í´</span>
                            <span class="preset-tag">2-3ëª… ì´í•´ê´€ê³„ì</span>
                        </div>
                        <button class="load-preset-btn" onclick="loadPreset('startup')">
                            ì´ í…œí”Œë¦¿ ì‚¬ìš©í•˜ê¸°
                        </button>
                    </div>

                    <div class="preset-card" id="preset3">
                        <div class="preset-title">ğŸ”„ ê¸°ì¡´ ê³ ê° ì—…ì…€/ê°±ì‹ </div>
                        <div class="preset-description">
                            ì´ë¯¸ ê´€ê³„ê°€ í˜•ì„±ëœ ê¸°ì¡´ ê³ ê°ì‚¬ì— ì¶”ê°€ ì œí’ˆì„ íŒë§¤í•˜ê±°ë‚˜ ê³„ì•½ì„ ê°±ì‹ í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
                            ê¸°ì¡´ ì±”í”¼ì–¸ê³¼ì˜ ê´€ê³„ë¥¼ í™œìš©í•˜ëŠ” ì „ëµì…ë‹ˆë‹¤.
                        </div>
                        <div class="preset-tags">
                            <span class="preset-tag">ê¸°ì¡´ ê³„ì•½ 150%+</span>
                            <span class="preset-tag">1-2ê°œì›” ì‚¬ì´í´</span>
                            <span class="preset-tag">ì¹œë°€ë„ ë†’ìŒ</span>
                        </div>
                        <button class="load-preset-btn" onclick="loadPreset('upsell')">
                            ì´ í…œí”Œë¦¿ ì‚¬ìš©í•˜ê¸°
                        </button>
                    </div>
                </div>
            </div>

            <!-- ê³ ê°ì‚¬ ê¸°ë³¸ ì •ë³´ -->
            <div class="section">
                <h2>ğŸ¢ Target ê³ ê°ì‚¬ ì •ë³´</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="company">ê³ ê°ì‚¬ëª…</label>
                        <input type="text" id="company" placeholder="ì˜ˆ: ì‚¼ì„±ì „ì, LGí™”í•™">
                    </div>
                    
                    <div class="form-group">
                        <label for="industry">ì—…ì¢…</label>
                        <select id="industry">
                            <option value="">ì—…ì¢… ì„ íƒ</option>
                            <option value="manufacturing">ì œì¡°ì—…</option>
                            <option value="financial">ê¸ˆìœµì—…</option>
                            <option value="enterprise">ê¸°ì—…ì„œë¹„ìŠ¤</option>
                            <option value="public">ê³µê³µ/ì¤€ê³µê³µ</option>
                            <option value="retail">ìœ í†µ/ë¦¬í…Œì¼</option>
                            <option value="healthcare">í—¬ìŠ¤ì¼€ì–´</option>
                            <option value="education">êµìœ¡</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="dealSize">ì˜ˆìƒ ë”œ ì‚¬ì´ì¦ˆ</label>
                        <select id="dealSize">
                            <option value="">ë”œ ì‚¬ì´ì¦ˆ ì„ íƒ</option>
                            <option value="small">1ì–µ ë¯¸ë§Œ (Small Deal)</option>
                            <option value="medium">1-10ì–µ (Medium Deal)</option>
                            <option value="large">10-50ì–µ (Large Deal)</option>
                            <option value="strategic">50ì–µ ì´ìƒ (Strategic Deal)</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="salesStage">í˜„ì¬ ì˜ì—… ë‹¨ê³„</label>
                        <select id="salesStage">
                            <option value="">ì˜ì—… ë‹¨ê³„ ì„ íƒ</option>
                            <option value="prospecting">Prospecting (ì ì¬ê³ ê° ë°œêµ´)</option>
                            <option value="qualifying">Qualifying (ë‹ˆì¦ˆ í™•ì¸)</option>
                            <option value="proposing">Proposing (ì œì•ˆ)</option>
                            <option value="negotiating">Negotiating (í˜‘ìƒ)</option>
                            <option value="closing">Closing (í´ë¡œì§•)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="timeframe">ì˜ˆìƒ ê²°ì • ì‹œê¸°</label>
                        <select id="timeframe">
                            <option value="">ì‹œê¸° ì„ íƒ</option>
                            <option value="immediate">1ê°œì›” ë‚´ (ê¸´ê¸‰)</option>
                            <option value="short">2-3ê°œì›” (ë‹¨ê¸°)</option>
                            <option value="medium">3-6ê°œì›” (ì¤‘ê¸°)</option>
                            <option value="long">6ê°œì›” ì´ìƒ (ì¥ê¸°)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="competition">ì£¼ìš” ê²½ìŸì‚¬</label>
                        <select id="competition">
                            <option value="">ê²½ìŸì‚¬ ì„ íƒ</option>
                            <option value="cisco">Cisco</option>
                            <option value="fortinet">Fortinet</option>
                            <option value="paloalto">Palo Alto</option>
                            <option value="cato">Cato Networks</option>
                            <option value="others">ê¸°íƒ€</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- ì´í•´ê´€ê³„ì ì¶”ê°€ ì„¹ì…˜ -->
            <div class="section">
                <h2>ğŸ‘¥ ì´í•´ê´€ê³„ì ë§¤í•‘</h2>
                <p style="margin-bottom: 20px; color: #718096;">êµ¬ë§¤ ì˜ì‚¬ê²°ì •ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ëª¨ë“  ì¸ë¬¼ì„ ì¶”ê°€í•˜ê³  ê´€ê³„ë¥¼ ë¶„ì„í•˜ì„¸ìš”.</p>
                
                <div style="display: flex; align-items: center;">
                    <button class="add-stakeholder-btn" onclick="addStakeholder()">
                        â• ìƒˆ ì´í•´ê´€ê³„ì ì¶”ê°€
                    </button>
                    <button class="clear-all-btn" onclick="clearAllStakeholders()">
                        ğŸ—‘ï¸ ì „ì²´ ì‚­ì œ
                    </button>
                </div>

                <div id="stakeholdersList">
                    <!-- ì´í•´ê´€ê³„ì ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <button class="analyze-btn" onclick="analyzeRelationships()">
                ğŸ¯ ê´€ê³„ë„ ë¶„ì„ ë° ê³µëµ ì „ëµ ìƒì„±
            </button>

            <!-- ë¶„ì„ ê²°ê³¼ -->
            <div class="relationship-map" id="relationshipMap">
                <div id="analysisResults"></div>
            </div>
        </div>
    </div>

    <script>
        let stakeholderCount = 0;
        let stakeholders = [];

        // í”„ë¦¬ì…‹ ë°ì´í„°
        const presets = {
            enterprise: {
                company: 'ì‚¼ì„±ì „ì',
                industry: 'manufacturing',
                dealSize: 'large',
                salesStage: 'qualifying',
                timeframe: 'medium',
                competition: 'cisco',
                stakeholders: [
                    {
                        name: 'ê¹€ì² ìˆ˜',
                        role: 'CIO / ITë³¸ë¶€ì¥',
                        type: 'decision_maker',
                        influence: 'high',
                        intimacy: '3',
                        sentiment: 'neutral',
                        interests: 'ë””ì§€í„¸ íŠ¸ëœìŠ¤í¬ë©”ì´ì…˜, ë¹„ìš© ì ˆê°, ë³´ì•ˆ ê°•í™”',
                        notes: 'ì²« ë¯¸íŒ… ì˜ˆì •. ê¸°ìˆ ë³´ë‹¤ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì¹˜ ì¤‘ì‹¬ìœ¼ë¡œ ì ‘ê·¼ í•„ìš”'
                    },
                    {
                        name: 'ë°•ì˜í¬',
                        role: 'ë„¤íŠ¸ì›Œí¬íŒ€ íŒ€ì¥',
                        type: 'influencer',
                        influence: 'medium',
                        intimacy: '5',
                        sentiment: 'positive',
                        interests: 'ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥ ê°œì„ , ìš´ì˜ ìë™í™”, ëª¨ë‹ˆí„°ë§ ê°•í™”',
                        notes: 'ê¸°ìˆ  ê²€í†  ë‹´ë‹¹. Cisco ê²½í—˜ ë§ìŒ. POC ì§„í–‰ ì˜ì‚¬ ìˆìŒ'
                    },
                    {
                        name: 'ì´ë¯¼ì¤€',
                        role: 'ë³´ì•ˆíŒ€ íŒ€ì¥',
                        type: 'influencer',
                        influence: 'medium',
                        intimacy: '2',
                        sentiment: 'skeptical',
                        interests: 'ì œë¡œíŠ¸ëŸ¬ìŠ¤íŠ¸, ì»´í”Œë¼ì´ì–¸ìŠ¤, ë³´ì•ˆ ì¸ì¦',
                        notes: 'ìƒˆë¡œìš´ ì†”ë£¨ì…˜ì— ë³´ìˆ˜ì . ë³´ì•ˆ ê´€ë ¨ ìš°ë ¤ì‚¬í•­ ë§ìŒ'
                    },
                    {
                        name: 'ì •ìˆ˜ì§„',
                        role: 'êµ¬ë§¤íŒ€ ê³¼ì¥',
                        type: 'gatekeeper',
                        influence: 'low',
                        intimacy: '4',
                        sentiment: 'neutral',
                        interests: 'ê°€ê²© í˜‘ìƒ, ê³„ì•½ ì¡°ê±´, ë²¤ë” ì‹ ë¢°ë„',
                        notes: 'í”„ë¡œì„¸ìŠ¤ ì¤‘ì‹œ. ë ˆí¼ëŸ°ìŠ¤ì™€ ì¬ë¬´ ì•ˆì •ì„± í™•ì¸ í•„ìš”'
                    },
                    {
                        name: 'ìµœë™í˜„',
                        role: 'ì¸í”„ë¼íŒ€ ì‹¤ë¬´ì',
                        type: 'user',
                        influence: 'low',
                        intimacy: '7',
                        sentiment: 'supporter',
                        interests: 'ì‹¤ì œ êµ¬í˜„ ìš©ì´ì„±, ê¸°ìˆ  ì§€ì›, êµìœ¡',
                        notes: 'ìš°ë¦¬ ì†”ë£¨ì…˜ì— ë§¤ìš° ê¸ì •ì . ë‚´ë¶€ ì±”í”¼ì–¸ ì—­í•  ê°€ëŠ¥'
                    }
                ]
            },
            startup: {
                company: 'ì¿ íŒ¡',
                industry: 'retail',
                dealSize: 'medium',
                salesStage: 'proposing',
                timeframe: 'short',
                competition: 'fortinet',
                stakeholders: [
                    {
                        name: 'ê°•ì§€í›ˆ',
                        role: 'CTO',
                        type: 'decision_maker',
                        influence: 'high',
                        intimacy: '6',
                        sentiment: 'positive',
                        interests: 'ë¹ ë¥¸ êµ¬í˜„, í™•ì¥ì„±, í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ',
                        notes: 'ê¸°ìˆ  ë°°ê²½ ê°•í•¨. ì§ì ‘ ì˜ì‚¬ê²°ì •. í˜ì‹ ì  ì†”ë£¨ì…˜ ì„ í˜¸'
                    },
                    {
                        name: 'ìœ¤ì„œì—°',
                        role: 'DevOps ë¦¬ë“œ',
                        type: 'champion',
                        influence: 'medium',
                        intimacy: '8',
                        sentiment: 'supporter',
                        interests: 'API ì—°ë™, ìë™í™”, CI/CD í†µí•©',
                        notes: 'ìš°ë¦¬ ì œí’ˆ ì ê·¹ ì§€ì§€. CTOì™€ ì¹œë°€í•œ ê´€ê³„'
                    },
                    {
                        name: 'ì†¡ë¯¼ì„',
                        role: 'CFO',
                        type: 'influencer',
                        influence: 'high',
                        intimacy: '3',
                        sentiment: 'neutral',
                        interests: 'ROI, ì´ì†Œìœ ë¹„ìš©, íˆ¬ì íšŒìˆ˜ ê¸°ê°„',
                        notes: 'ë¹„ìš© ë¯¼ê°. ëª…í™•í•œ ROI ì¦ëª… í•„ìš”'
                    }
                ]
            },
            upsell: {
                company: 'LGí™”í•™',
                industry: 'manufacturing',
                dealSize: 'medium',
                salesStage: 'negotiating',
                timeframe: 'immediate',
                competition: '',
                stakeholders: [
                    {
                        name: 'í•œìƒìš°',
                        role: 'ITë³¸ë¶€ ìƒë¬´',
                        type: 'decision_maker',
                        influence: 'high',
                        intimacy: '8',
                        sentiment: 'supporter',
                        interests: 'ê¸°ì¡´ ì‹œìŠ¤í…œ í™•ì¥, í†µí•© ê´€ë¦¬, ê¸€ë¡œë²Œ ì „ê°œ',
                        notes: '3ë…„ê°„ ì¢‹ì€ ê´€ê³„ ìœ ì§€. ì¶”ê°€ ì‚¬ì—…ì¥ í™•ì¥ ê³„íš'
                    },
                    {
                        name: 'ì˜¤ì§€ì€',
                        role: 'ë„¤íŠ¸ì›Œí¬íŒ€ ì°¨ì¥',
                        type: 'champion',
                        influence: 'medium',
                        intimacy: '9',
                        sentiment: 'supporter',
                        interests: 'ìš´ì˜ íš¨ìœ¨í™”, ì‹ ê¸°ëŠ¥ í™œìš©, íŒ€ ì—­ëŸ‰ ê°•í™”',
                        notes: 'ìš°ë¦¬ ì œí’ˆ ì „ë¬¸ê°€. ë‚´ë¶€ êµìœ¡ ë‹´ë‹¹. ì ê·¹ì  ì§€ì›ì'
                    },
                    {
                        name: 'ì„ì¬í˜„',
                        role: 'ì‹ ê·œì‚¬ì—…ë¶€ ë¶€ì¥',
                        type: 'influencer',
                        influence: 'medium',
                        intimacy: '4',
                        sentiment: 'neutral',
                        interests: 'ì‹ ê·œ ê³µì¥ IT ì¸í”„ë¼, ìŠ¤ë§ˆíŠ¸ íŒ©í† ë¦¬',
                        notes: 'ìƒˆë¡œ í•©ë¥˜. ê¸°ì¡´ ì‹œìŠ¤í…œ í™•ì¥ì— ëŒ€í•œ ê²€í†  í•„ìš”'
                    }
                ]
            }
        };

        function loadPreset(presetType) {
            const preset = presets[presetType];
            
            // ê¸°ì¡´ ë¶„ì„ ê²°ê³¼ ì´ˆê¸°í™”
            const relationshipMap = document.getElementById('relationshipMap');
            relationshipMap.classList.remove('show');
            document.getElementById('analysisResults').innerHTML = '';
            
            // ê¸°ë³¸ ì •ë³´ ì±„ìš°ê¸°
            document.getElementById('company').value = preset.company;
            document.getElementById('industry').value = preset.industry;
            document.getElementById('dealSize').value = preset.dealSize;
            document.getElementById('salesStage').value = preset.salesStage;
            document.getElementById('timeframe').value = preset.timeframe;
            document.getElementById('competition').value = preset.competition;
            
            // ê¸°ì¡´ ì´í•´ê´€ê³„ì ëª¨ë‘ ì‚­ì œ
            clearAllStakeholders();
            
            // í”„ë¦¬ì…‹ ì´í•´ê´€ê³„ì ì¶”ê°€
            preset.stakeholders.forEach(stakeholder => {
                addStakeholderWithData(stakeholder);
            });
            
            // ì„ íƒëœ í”„ë¦¬ì…‹ í‘œì‹œ
            document.querySelectorAll('.preset-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.getElementById(`preset${presetType === 'enterprise' ? '1' : presetType === 'startup' ? '2' : '3'}`).classList.add('selected');
            
            // ìŠ¤í¬ë¡¤
            document.querySelector('.section').scrollIntoView({ behavior: 'smooth' });
        }

        function addStakeholderWithData(data) {
            stakeholderCount++;
            const stakeholderId = `stakeholder_${stakeholderCount}`;
            
            const stakeholderHTML = createStakeholderHTML(stakeholderId);
            document.getElementById('stakeholdersList').insertAdjacentHTML('beforeend', stakeholderHTML);
            
            // ë°ì´í„° ì±„ìš°ê¸°
            if (data) {
                document.getElementById(`${stakeholderId}_name`).value = data.name || '';
                document.getElementById(`${stakeholderId}_role`).value = data.role || '';
                document.getElementById(`${stakeholderId}_type`).value = data.type || '';
                document.getElementById(`${stakeholderId}_influence`).value = data.influence || '';
                document.getElementById(`${stakeholderId}_intimacy`).value = data.intimacy || '5';
                document.getElementById(`${stakeholderId}_sentiment`).value = data.sentiment || '';
                document.getElementById(`${stakeholderId}_interests`).value = data.interests || '';
                document.getElementById(`${stakeholderId}_notes`).value = data.notes || '';
                
                // ìŠ¬ë¼ì´ë” ê°’ ì—…ë°ì´íŠ¸
                updateSliderDisplay(stakeholderId, data.intimacy || '5');
            }
            
            // ìŠ¬ë¼ì´ë” ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            setupSliderListener(stakeholderId);
        }

        function createStakeholderHTML(stakeholderId) {
            return `
                <div class="stakeholder-card" id="${stakeholderId}">
                    <div class="stakeholder-header">
                        <div class="stakeholder-info">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>ì´ë¦„</label>
                                    <input type="text" id="${stakeholderId}_name" placeholder="í™ê¸¸ë™">
                                </div>
                                <div class="form-group">
                                    <label>ì§ì±…/ë¶€ì„œ</label>
                                    <input type="text" id="${stakeholderId}_role" placeholder="CIO, ITë³¸ë¶€ì¥">
                                </div>
                            </div>
                        </div>
                        <button class="delete-btn" onclick="removeStakeholder('${stakeholderId}')">ì‚­ì œ</button>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>ì—­í•  ìœ í˜•</label>
                            <select id="${stakeholderId}_type">
                                <option value="">ì—­í•  ì„ íƒ</option>
                                <option value="decision_maker">ìµœì¢… ì˜ì‚¬ê²°ì •ì (Decision Maker)</option>
                                <option value="influencer">ì˜í–¥ë ¥ì (Influencer)</option>
                                <option value="user">ì‹¤ì‚¬ìš©ì (End User)</option>
                                <option value="gatekeeper">ê´€ë¬¸ì§€ê¸° (Gatekeeper)</option>
                                <option value="champion">ë‚´ë¶€ ì±”í”¼ì–¸ (Champion)</option>
                                <option value="blocker">ë°˜ëŒ€ì (Blocker)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>ì˜í–¥ë ¥ ìˆ˜ì¤€</label>
                            <select id="${stakeholderId}_influence">
                                <option value="">ì˜í–¥ë ¥ ì„ íƒ</option>
                                <option value="high">High (ìµœì¢… ê²°ì •ê¶Œ)</option>
                                <option value="medium">Medium (ê°•í•œ ì˜í–¥ë ¥)</option>
                                <option value="low">Low (ì˜ê²¬ ì œì‹œ)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>ìš°ë¦¬ì™€ì˜ ê´€ê³„ì„±</label>
                            <div class="slider-container">
                                <input type="range" min="1" max="10" value="5" class="slider" id="${stakeholderId}_intimacy">
                                <div style="display: flex; justify-content: space-between; font-size: 0.8em; color: #718096;">
                                    <span>ë‚¯ì„  ì‚¬ì´ (1)</span>
                                    <span id="${stakeholderId}_intimacy_value">ë³´í†µ (5)</span>
                                    <span>ì ˆì¹œí•œ ì‚¬ì´ (10)</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>ìš°ë¦¬ì— ëŒ€í•œ íƒœë„</label>
                            <select id="${stakeholderId}_sentiment">
                                <option value="">íƒœë„ ì„ íƒ</option>
                                <option value="supporter">ì ê·¹ ì§€ì§€ (Supporter)</option>
                                <option value="positive">ìš°í˜¸ì  (Positive)</option>
                                <option value="neutral">ì¤‘ë¦½ì  (Neutral)</option>
                                <option value="skeptical">íšŒì˜ì  (Skeptical)</option>
                                <option value="hostile">ì ëŒ€ì  (Hostile)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>LinkedIn/SNS í”„ë¡œí•„</label>
                            <input type="text" id="${stakeholderId}_linkedin" placeholder="https://linkedin.com/in/profile">
                        </div>
                        
                        <div class="form-group">
                            <label>ë§ˆì§€ë§‰ ì ‘ì´‰ì¼</label>
                            <input type="date" id="${stakeholderId}_lastContact">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ì£¼ìš” ê´€ì‹¬ì‚¬/Pain Point</label>
                        <textarea id="${stakeholderId}_interests" rows="3" placeholder="ì´ ì‚¬ëŒì´ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒë“¤, í•´ê²°í•˜ê³  ì‹¶ì–´í•˜ëŠ” ë¬¸ì œì ë“¤ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    </div>

                    <div class="form-group">
                        <label>ê´€ê³„ êµ¬ì¶• ë…¸íŠ¸</label>
                        <textarea id="${stakeholderId}_notes" rows="3" placeholder="ì´ì „ ë¯¸íŒ… ë‚´ìš©, ê°œì¸ì  ì •ë³´, ê´€ê³„ êµ¬ì¶•ì„ ìœ„í•œ ë©”ëª¨ ë“±ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    </div>
                </div>
            `;
        }

        function setupSliderListener(stakeholderId) {
            const slider = document.getElementById(`${stakeholderId}_intimacy`);
            const valueDisplay = document.getElementById(`${stakeholderId}_intimacy_value`);
            
            slider.addEventListener('input', function() {
                updateSliderDisplay(stakeholderId, this.value);
            });
        }

        function updateSliderDisplay(stakeholderId, value) {
            const valueDisplay = document.getElementById(`${stakeholderId}_intimacy_value`);
            let description = '';
            if (value <= 2) description = `ë‚¯ì„  ì‚¬ì´ (${value})`;
            else if (value <= 4) description = `ì–´ìƒ‰í•œ ì‚¬ì´ (${value})`;
            else if (value <= 6) description = `ë³´í†µ ì‚¬ì´ (${value})`;
            else if (value <= 8) description = `ì¹œê·¼í•œ ì‚¬ì´ (${value})`;
            else description = `ì ˆì¹œí•œ ì‚¬ì´ (${value})`;
            
            valueDisplay.textContent = description;
        }

        function clearAllStakeholders() {
            document.getElementById('stakeholdersList').innerHTML = '';
            stakeholderCount = 0;
            
            // ë¶„ì„ ê²°ê³¼ë„ í•¨ê»˜ ì´ˆê¸°í™”
            const relationshipMap = document.getElementById('relationshipMap');
            if (relationshipMap) {
                relationshipMap.classList.remove('show');
                const analysisResults = document.getElementById('analysisResults');
                if (analysisResults) {
                    analysisResults.innerHTML = '';
                }
            }
        }

        function addStakeholder() {
            addStakeholderWithData(null);
        }

        function removeStakeholder(stakeholderId) {
            const element = document.getElementById(stakeholderId);
            if (element) {
                element.remove();
            }
        }

        function collectStakeholderData() {
            const stakeholderElements = document.querySelectorAll('.stakeholder-card');
            const stakeholderData = [];
            
            stakeholderElements.forEach(element => {
                const id = element.id;
                const data = {
                    id: id,
                    name: document.getElementById(`${id}_name`).value,
                    role: document.getElementById(`${id}_role`).value,
                    type: document.getElementById(`${id}_type`).value,
                    influence: document.getElementById(`${id}_influence`).value,
                    intimacy: document.getElementById(`${id}_intimacy`).value,
                    sentiment: document.getElementById(`${id}_sentiment`).value,
                    linkedin: document.getElementById(`${id}_linkedin`).value,
                    lastContact: document.getElementById(`${id}_lastContact`).value,
                    interests: document.getElementById(`${id}_interests`).value,
                    notes: document.getElementById(`${id}_notes`).value
                };
                
                if (data.name && data.role) {
                    stakeholderData.push(data);
                }
            });
            
            return stakeholderData;
        }

        function analyzeRelationships() {
            // í•„ìˆ˜ ì…ë ¥ê°’ null ì²´í¬
            const companyElement = document.getElementById('company');
            const industryElement = document.getElementById('industry');
            const dealSizeElement = document.getElementById('dealSize');
            const salesStageElement = document.getElementById('salesStage');
            const timeframeElement = document.getElementById('timeframe');
            const competitionElement = document.getElementById('competition');
            
            if (!companyElement || !industryElement || !dealSizeElement || 
                !salesStageElement || !timeframeElement || !competitionElement) {
                alert('í˜ì´ì§€ ë¡œë”© ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ìƒˆë¡œê³ ì¹¨ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const company = companyElement.value;
            const industry = industryElement.value;
            const dealSize = dealSizeElement.value;
            const salesStage = salesStageElement.value;
            const timeframe = timeframeElement.value;
            const competition = competitionElement.value;
            
            const stakeholderData = collectStakeholderData();
            
            if (!company || stakeholderData.length === 0) {
                alert('ê³ ê°ì‚¬ëª…ê³¼ ìµœì†Œ 1ëª…ì˜ ì´í•´ê´€ê³„ì ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ë¶„ì„ ê²°ê³¼ ìƒì„±
            const analysis = generateAnalysis(company, industry, dealSize, salesStage, timeframe, competition, stakeholderData);
            displayAnalysis(analysis);
        }

        function generateAnalysis(company, industry, dealSize, salesStage, timeframe, competition, stakeholders) {
            // ê´€ê³„ ë¶„ì„
            const champions = stakeholders.filter(s => s.type === 'champion' || s.sentiment === 'supporter');
            const blockers = stakeholders.filter(s => s.type === 'blocker' || s.sentiment === 'hostile');
            const decisionMakers = stakeholders.filter(s => s.type === 'decision_maker');
            const influencers = stakeholders.filter(s => s.type === 'influencer');
            
            // ì¹œë°€ë„ ë¶„ì„
            const avgIntimacy = stakeholders.reduce((sum, s) => sum + parseInt(s.intimacy), 0) / stakeholders.length;
            const highIntimacy = stakeholders.filter(s => parseInt(s.intimacy) >= 7);
            const lowIntimacy = stakeholders.filter(s => parseInt(s.intimacy) <= 3);
            
            // ì˜í–¥ë ¥ ë¶„ì„
            const highInfluence = stakeholders.filter(s => s.influence === 'high');
            const mediumInfluence = stakeholders.filter(s => s.influence === 'medium');
            
            return {
                company,
                industry,
                dealSize,
                salesStage,
                timeframe,
                competition,
                stakeholders,
                analysis: {
                    champions,
                    blockers,
                    decisionMakers,
                    influencers,
                    avgIntimacy,
                    highIntimacy,
                    lowIntimacy,
                    highInfluence,
                    mediumInfluence
                }
            };
        }

        function displayAnalysis(data) {
            const resultsDiv = document.getElementById('analysisResults');
            const analysis = data.analysis;
            
            // ìœ„í—˜ë„ ê³„ì‚°
            let riskLevel = 'low';
            let riskColor = '#48bb78';
            let riskText = 'ë‚®ìŒ';
            
            if (analysis.blockers.length > analysis.champions.length || analysis.avgIntimacy < 4) {
                riskLevel = 'high';
                riskColor = '#f56565';
                riskText = 'ë†’ìŒ';
            } else if (analysis.champions.length === 0 || analysis.avgIntimacy < 6) {
                riskLevel = 'medium';
                riskColor = '#ed8936';
                riskText = 'ì¤‘ê°„';
            }
            
            resultsDiv.innerHTML = `
                <div class="pipeline-strategy">
                    <h2 style="color: #2d3748; margin-bottom: 20px;">ğŸ“Š ${data.company} ê´€ê³„ ë¶„ì„ ê²°ê³¼</h2>
                    
                    <div class="relationship-metrics">
                        <div class="metric-item">
                            <div class="metric-label">ì´ ì´í•´ê´€ê³„ì</div>
                            <div class="metric-value">${data.stakeholders.length}ëª…</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">ë‚´ë¶€ ì±”í”¼ì–¸</div>
                            <div class="metric-value sentiment-positive">${analysis.champions.length}ëª…</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">ë°˜ëŒ€ì</div>
                            <div class="metric-value sentiment-negative">${analysis.blockers.length}ëª…</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">í‰ê·  ì¹œë°€ë„</div>
                            <div class="metric-value">${analysis.avgIntimacy.toFixed(1)}/10</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">ë”œ ìœ„í—˜ë„</div>
                            <div class="metric-value" style="color: ${riskColor}">${riskText}</div>
                        </div>
                    </div>
                </div>

                ${generateStakeholderStrategies(data)}
                ${generatePipelineStrategy(data)}
                ${generateActionPlan(data)}
                ${generateWarnings(data)}
            `;
            
            document.getElementById('relationshipMap').classList.add('show');
            document.getElementById('relationshipMap').scrollIntoView({ behavior: 'smooth' });
        }

        function generateStakeholderStrategies(data) {
            let strategiesHTML = '<div class="pipeline-strategy"><h3 style="color: #2d3748; margin-bottom: 20px;">ğŸ¯ ê°œë³„ ê³µëµ ì „ëµ</h3>';
            
            data.stakeholders.forEach(stakeholder => {
                const intimacyLevel = parseInt(stakeholder.intimacy);
                const strategy = getStakeholderStrategy(stakeholder);
                const priorityClass = getPriorityClass(stakeholder);
                const priorityText = getPriorityText(stakeholder);
                
                strategiesHTML += `
                    <div class="stakeholder-card" style="margin-bottom: 20px;">
                        ${stakeholder.type === 'champion' ? '<div class="champion-indicator">ğŸ† ì±”í”¼ì–¸</div>' : ''}
                        ${stakeholder.type === 'blocker' ? '<div class="blocker-indicator">âš ï¸ ì°¨ë‹¨ì</div>' : ''}
                        
                        <div class="stakeholder-name">${stakeholder.name}</div>
                        <div class="stakeholder-role">${stakeholder.role}</div>
                        <span class="priority-badge ${priorityClass}">${priorityText}</span>
                        
                        <div class="relationship-metrics" style="margin: 15px 0;">
                            <div class="metric-item">
                                <div class="metric-label">ì¹œë°€ë„</div>
                                <div class="metric-value">${intimacyLevel}/10</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">ì˜í–¥ë ¥</div>
                                <div class="metric-value">${getInfluenceText(stakeholder.influence)}</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">íƒœë„</div>
                                <div class="metric-value ${getSentimentClass(stakeholder.sentiment)}">${getSentimentText(stakeholder.sentiment)}</div>
                            </div>
                        </div>
                        
                        <div class="strategy-box">
                            <div class="strategy-title">ğŸ’¡ ê³µëµ ì „ëµ</div>
                            <p>${strategy.approach}</p>
                        </div>
                        
                        <div class="action-items">
                            <div class="action-title">ğŸ“‹ ì‹¤í–‰ ì•¡ì…˜</div>
                            <ul>
                                ${strategy.actions.map(action => `<li>${action}</li>`).join('')}
                            </ul>
                        </div>
                        
                        ${stakeholder.linkedin ? `
                        <div class="strategy-box">
                            <div class="strategy-title">ğŸŒ LinkedIn í™œìš©ë²•</div>
                            <p>í”„ë¡œí•„ ë¶„ì„ì„ í†µí•´ ê³µí†µ ê´€ì‹¬ì‚¬ë‚˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ì°¾ì•„ ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” ì†Œì¬ë¡œ í™œìš©í•˜ì„¸ìš”.</p>
                            <p><strong>ë§í¬:</strong> <a href="${stakeholder.linkedin}" target="_blank">í”„ë¡œí•„ ë³´ê¸°</a></p>
                        </div>
                        ` : ''}
                    </div>
                `;
            });
            
            strategiesHTML += '</div>';
            return strategiesHTML;
        }

        function getStakeholderStrategy(stakeholder) {
            const intimacy = parseInt(stakeholder.intimacy);
            const type = stakeholder.type;
            const sentiment = stakeholder.sentiment;
            const influence = stakeholder.influence;
            
            let approach = '';
            let actions = [];
            
            // ì—­í• ë³„ ê¸°ë³¸ ì „ëµ
            switch(type) {
                case 'decision_maker':
                    approach = 'ìµœì¢… ì˜ì‚¬ê²°ì •ê¶Œìë¡œì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸ì™€ ROIì— ì§‘ì¤‘í•œ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤. ì „ëµì  ê°€ì¹˜ì™€ ê²½ìŸìš°ìœ„ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜í•˜ì„¸ìš”.';
                    actions = [
                        'ê²½ì˜ì§„ ë ˆë²¨ ìë£Œ ì¤€ë¹„ (ROI, ì „ëµì  ê°€ì¹˜)',
                        'ì—…ê³„ ë²¤ì¹˜ë§ˆí‚¹ ìë£Œ ì œê³µ',
                        'CEO/ì„ì› ë ˆí¼ëŸ°ìŠ¤ ë¯¸íŒ… ì£¼ì„ '
                    ];
                    break;
                case 'influencer':
                    approach = 'ê°•í•œ ì˜í–¥ë ¥ì„ ê°€ì§„ í‚¤ í”Œë ˆì´ì–´ì…ë‹ˆë‹¤. ê¸°ìˆ ì  ìš°ìˆ˜ì„±ê³¼ ì‹¤ìš©ì„±ì„ ëª¨ë‘ ì–´í•„í•˜ë©°, ì´ ë¶„ì„ í†µí•´ ë‹¤ë¥¸ ì´í•´ê´€ê³„ìë“¤ì—ê²Œ ì˜í–¥ì„ ë¯¸ì¹˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.';
                    actions = [
                        'ê¸°ìˆ  ë°ëª¨ ë° ìƒì„¸ ê¸°ëŠ¥ ì„¤ëª…',
                        'ë™ì¢…ì—…ê³„ ì„±ê³µì‚¬ë¡€ ê³µìœ ',
                        'ì „ë¬¸ê°€ ë„¤íŠ¸ì›Œí‚¹ ì´ë²¤íŠ¸ ì´ˆì²­'
                    ];
                    break;
                case 'champion':
                    approach = 'ìš°ë¦¬ì˜ ê°•ë ¥í•œ ì§€ì§€ìì…ë‹ˆë‹¤. ì´ ë¶„ì„ í†µí•´ ë‚´ë¶€ ì˜í–¥ë ¥ì„ í™•ì‚°ì‹œí‚¤ê³ , ë” ë§ì€ ì •ë³´ì™€ ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ì–´ì•¼ í•©ë‹ˆë‹¤.';
                    actions = [
                        'ë‚´ë¶€ í”„ë ˆì  í…Œì´ì…˜ ì§€ì› ìë£Œ ì œê³µ',
                        'ì •ê¸°ì ì¸ ì—…ë°ì´íŠ¸ ë¯¸íŒ…',
                        'ì¶”ê°€ ì¸ë§¥ ì†Œê°œ ìš”ì²­'
                    ];
                    break;
                case 'blocker':
                    approach = 'ë°˜ëŒ€ ì˜ê²¬ì„ ê°€ì§„ ë¶„ì…ë‹ˆë‹¤. ìš°ë ¤ì‚¬í•­ì„ ì •í™•íˆ íŒŒì•…í•˜ê³  ë§ì¶¤í˜• ì†”ë£¨ì…˜ìœ¼ë¡œ ì„¤ë“í•´ì•¼ í•©ë‹ˆë‹¤. ì§ì ‘ì ì¸ ëŒ€ê²°ë³´ë‹¤ëŠ” ìš°íšŒì  ì ‘ê·¼ì´ íš¨ê³¼ì ì…ë‹ˆë‹¤.';
                    actions = [
                        'êµ¬ì²´ì ì¸ ìš°ë ¤ì‚¬í•­ íŒŒì•…',
                        'ë§ì¶¤í˜• í•´ê²°ë°©ì•ˆ ì œì‹œ',
                        'ì¤‘ë¦½ì ì¸ ì œ3ìë¥¼ í†µí•œ ê°„ì ‘ ì ‘ê·¼'
                    ];
                    break;
                default:
                    approach = 'í•´ë‹¹ ì—­í• ì— ë§ëŠ” ë§ì¶¤í˜• ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤.';
                    actions = ['ì—­í• ë³„ ë§ì¶¤ ì „ëµ ìˆ˜ë¦½'];
            }
            
            // ì¹œë°€ë„ì— ë”°ë¥¸ ì „ëµ ì¡°ì •
            if (intimacy <= 3) {
                actions.unshift('ê´€ê³„ êµ¬ì¶•ì„ ìœ„í•œ ë¹„ê³µì‹ ë¯¸íŒ… ì£¼ì„ ');
                actions.unshift('ê³µí†µ ê´€ì‹¬ì‚¬ ê¸°ë°˜ ëŒ€í™” ì†Œì¬ ì¤€ë¹„');
            } else if (intimacy >= 8) {
                actions.push('ë” ê¹Šì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë…¼ì˜ ì§„í–‰');
                actions.push('ì¥ê¸°ì  íŒŒíŠ¸ë„ˆì‹­ ê´€ì  ì œì‹œ');
            }
            
            // íƒœë„ì— ë”°ë¥¸ ì „ëµ ì¡°ì •
            if (sentiment === 'hostile' || sentiment === 'skeptical') {
                actions.unshift('ì‹ ë¢° êµ¬ì¶•ì„ ìœ„í•œ ì†Œê·œëª¨ PoC ì œì•ˆ');
            }
            
            return { approach, actions };
        }

        function generatePipelineStrategy(data) {
            const analysis = data.analysis;
            let strategy = '';
            let priority = '';
            
            if (analysis.champions.length === 0) {
                strategy = 'ë‚´ë¶€ ì±”í”¼ì–¸ í™•ë³´ê°€ ìµœìš°ì„ ì…ë‹ˆë‹¤. ê°€ì¥ ìš°í˜¸ì ì¸ ì´í•´ê´€ê³„ìë¥¼ ì±”í”¼ì–¸ìœ¼ë¡œ ì „í™˜í•˜ëŠ”ë° ì§‘ì¤‘í•˜ì„¸ìš”.';
                priority = 'critical';
            } else if (analysis.decisionMakers.length === 0 || analysis.highInfluence.length === 0) {
                strategy = 'ìµœì¢… ì˜ì‚¬ê²°ì •ê¶Œìë‚˜ ê³ ì˜í–¥ë ¥ìì™€ì˜ ì ‘ì ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ì±”í”¼ì–¸ì„ í†µí•´ ì†Œê°œë°›ê±°ë‚˜ ìš°íšŒ ê²½ë¡œë¥¼ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤.';
                priority = 'high';
            } else if (analysis.avgIntimacy < 5) {
                strategy = 'ì „ë°˜ì ì¸ ê´€ê³„ ê¹Šì´ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤. ê´€ê³„ êµ¬ì¶•ì— ë” ë§ì€ ì‹œê°„ê³¼ ë…¸ë ¥ì„ íˆ¬ìí•´ì•¼ í•©ë‹ˆë‹¤.';
                priority = 'high';
            } else {
                strategy = 'ê´€ê³„ ë§¤íŠ¸ë¦­ìŠ¤ê°€ ì–‘í˜¸í•©ë‹ˆë‹¤. êµ¬ì²´ì ì¸ ì œì•ˆê³¼ í˜‘ìƒ ë‹¨ê³„ë¡œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
                priority = 'medium';
            }
            
            return `
                <div class="pipeline-strategy">
                    <h3 style="color: #2d3748; margin-bottom: 15px;">ğŸš€ ì „ì²´ íŒŒì´í”„ë¼ì¸ ì „ëµ</h3>
                    <span class="priority-badge priority-${priority}">${getPriorityKorean(priority)}</span>
                    <p style="margin-top: 15px;">${strategy}</p>
                </div>
            `;
        }

        function generateActionPlan(data) {
            const analysis = data.analysis;
            const actions = [];
            
            // ë‹¨ê³„ë³„ ì•¡ì…˜ í”Œëœ
            if (analysis.champions.length === 0) {
                actions.push('1. ê°€ì¥ ìš°í˜¸ì ì¸ ì´í•´ê´€ê³„ì 2-3ëª…ê³¼ ê°œë³„ ë¯¸íŒ… (1ì£¼ ë‚´)');
                actions.push('2. ë¹„ê³µì‹ ë§Œë‚¨ì„ í†µí•œ ê´€ê³„ ê¹Šì´ í–¥ìƒ (2ì£¼ ë‚´)');
                actions.push('3. ë‚´ë¶€ ìƒí™©ê³¼ ì˜ì‚¬ê²°ì • í”„ë¡œì„¸ìŠ¤ íŒŒì•… (3ì£¼ ë‚´)');
            }
            
            if (analysis.lowIntimacy.length > 0) {
                actions.push(`4. ì¹œë°€ë„ê°€ ë‚®ì€ í•µì‹¬ ì¸ë¬¼ ${analysis.lowIntimacy.length}ëª…ê³¼ ê´€ê³„ êµ¬ì¶• ì§‘ì¤‘`);
            }
            
            if (analysis.blockers.length > 0) {
                actions.push(`5. ë°˜ëŒ€ì ${analysis.blockers.length}ëª…ì˜ ìš°ë ¤ì‚¬í•­ ê°œë³„ ë¶„ì„ ë° ëŒ€ì‘ ë°©ì•ˆ ìˆ˜ë¦½`);
            }
            
            actions.push('6. ì›” 1íšŒ ì •ê¸° ì²´í¬ì¸ ë¯¸íŒ…ìœ¼ë¡œ ê´€ê³„ ì§€ì† ê´€ë¦¬');
            actions.push('7. ë¶„ê¸°ë³„ ê´€ê³„ë„ ì—…ë°ì´íŠ¸ ë° ì „ëµ ì¬ê²€í† ');
            
            return `
                <div class="action-items">
                    <div class="action-title">ğŸ“… 30ì¼ ì•¡ì…˜ í”Œëœ</div>
                    <ol>
                        ${actions.map(action => `<li>${action}</li>`).join('')}
                    </ol>
                </div>
            `;
        }

        function generateWarnings(data) {
            const analysis = data.analysis;
            const warnings = [];
            
            if (analysis.blockers.length > analysis.champions.length) {
                warnings.push('âš ï¸ ë°˜ëŒ€ìê°€ ì§€ì§€ìë³´ë‹¤ ë§ìŠµë‹ˆë‹¤. ë”œ ì„±ê³µ í™•ë¥ ì´ ë‚®ìœ¼ë‹ˆ ì „ëµ ì¬ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤.');
            }
            
            if (analysis.avgIntimacy < 4) {
                warnings.push('âš ï¸ ì „ë°˜ì ì¸ ê´€ê³„ ê¹Šì´ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤. ì„±ê¸‰í•œ ì œì•ˆë³´ë‹¤ëŠ” ê´€ê³„ êµ¬ì¶•ì— ë¨¼ì € ì§‘ì¤‘í•˜ì„¸ìš”.');
            }
            
            if (analysis.decisionMakers.length === 0) {
                warnings.push('âš ï¸ ìµœì¢… ì˜ì‚¬ê²°ì •ê¶Œìì™€ì˜ ì ‘ì ì´ ì—†ìŠµë‹ˆë‹¤. ë”œì´ ë§‰íŒì— ë¬´ì‚°ë  ìœ„í—˜ì´ í½ë‹ˆë‹¤.');
            }
            
            const recentContacts = data.stakeholders.filter(s => {
                if (!s.lastContact) return false;
                const lastContact = new Date(s.lastContact);
                const monthAgo = new Date();
                monthAgo.setMonth(monthAgo.getMonth() - 1);
                return lastContact < monthAgo;
            });
            
            if (recentContacts.length > 0) {
                warnings.push(`âš ï¸ ${recentContacts.length}ëª…ê³¼ í•œ ë‹¬ ì´ìƒ ì ‘ì´‰í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê´€ê³„ê°€ ì†Œì›í•´ì§ˆ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.`);
            }
            
            if (warnings.length === 0) {
                return `
                    <div class="action-items">
                        <div class="action-title">âœ… ìƒíƒœ ì ê²€</div>
                        <p>í˜„ì¬ ê´€ê³„ ë§¤íŠ¸ë¦­ìŠ¤ëŠ” ê±´ê°•í•œ ìƒíƒœì…ë‹ˆë‹¤. ì§€ì†ì ì¸ ê´€ë¦¬ë¥¼ í†µí•´ ì„±ê³µì ì¸ ë”œ í´ë¡œì§•ì„ ìœ„í•´ ë…¸ë ¥í•˜ì„¸ìš”.</p>
                    </div>
                `;
            }
            
            return `
                <div class="warning-box">
                    <div class="warning-title">âš ï¸ ì£¼ì˜ì‚¬í•­</div>
                    <ul>
                        ${warnings.map(warning => `<li>${warning}</li>`).join('')}
                    </ul>
                </div>
            `;
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        function getPriorityClass(stakeholder) {
            if (stakeholder.type === 'decision_maker' || stakeholder.influence === 'high') {
                return 'priority-critical';
            } else if (stakeholder.type === 'influencer' || stakeholder.influence === 'medium') {
                return 'priority-high';
            }
            return 'priority-medium';
        }

        function getPriorityText(stakeholder) {
            if (stakeholder.type === 'decision_maker' || stakeholder.influence === 'high') {
                return 'ìµœìš°ì„ ';
            } else if (stakeholder.type === 'influencer' || stakeholder.influence === 'medium') {
                return 'ì¤‘ìš”';
            }
            return 'ì¼ë°˜';
        }

        function getPriorityKorean(priority) {
            const map = {
                'critical': 'ìµœìš°ì„ ',
                'high': 'ë†’ìŒ',
                'medium': 'ë³´í†µ'
            };
            return map[priority] || 'ë³´í†µ';
        }

        function getInfluenceText(influence) {
            const map = {
                'high': 'ë†’ìŒ',
                'medium': 'ì¤‘ê°„',
                'low': 'ë‚®ìŒ'
            };
            return map[influence] || 'ë¯¸ì •';
        }

        function getSentimentClass(sentiment) {
            if (sentiment === 'supporter' || sentiment === 'positive') return 'sentiment-positive';
            if (sentiment === 'hostile' || sentiment === 'skeptical') return 'sentiment-negative';
            return 'sentiment-neutral';
        }

        function getSentimentText(sentiment) {
            const map = {
                'supporter': 'ì ê·¹ ì§€ì§€',
                'positive': 'ìš°í˜¸ì ',
                'neutral': 'ì¤‘ë¦½ì ',
                'skeptical': 'íšŒì˜ì ',
                'hostile': 'ì ëŒ€ì '
            };
            return map[sentiment] || 'ë¯¸ì •';
        }

        // ì´ˆê¸° ì´í•´ê´€ê³„ì 1ê°œ ì¶”ê°€
        window.onload = function() {
            // í”„ë¦¬ì…‹ ì„ íƒ ì•ˆë‚´
            // addStakeholder();
        };
    </script>
</body>
</html>
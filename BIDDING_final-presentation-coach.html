<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>최종 프레젠테이션 코치 - SmartWAN 영업</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .api-setup {
            background: #f0f9ff;
            border: 2px solid #3b82f6;
            border-radius: 15px;
            padding: 20px;
            margin: 20px;
        }

        .api-setup h3 {
            color: #1e3a8a;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .api-input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .api-input {
            flex: 1;
            padding: 10px 15px;
            border: 2px solid #cbd5e1;
            border-radius: 8px;
            font-size: 0.95rem;
        }

        .api-save-btn {
            background: #10b981;
            color: white;
            padding: 10px 25px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .api-save-btn:hover {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(16, 185, 129, 0.3);
        }

        .tabs {
            display: flex;
            background: #f8fafc;
            padding: 20px 20px 0;
            gap: 10px;
        }

        .tab {
            background: white;
            padding: 12px 25px;
            border-radius: 10px 10px 0 0;
            cursor: pointer;
            font-weight: 600;
            color: #64748b;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .tab.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .tab:hover {
            background: #e0e7ff;
            color: #1e40af;
        }

        .tab.active:hover {
            background: #3b82f6;
            color: white;
        }

        .content {
            padding: 30px;
            background: white;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .preset-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .preset-card {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .preset-card:hover {
            border-color: #3b82f6;
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .preset-card.selected {
            background: #eff6ff;
            border-color: #3b82f6;
        }

        .preset-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 10px;
        }

        .preset-desc {
            color: #64748b;
            font-size: 0.95rem;
            margin-bottom: 15px;
        }

        .preset-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .preset-tag {
            background: #dbeafe;
            color: #1e40af;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.85rem;
        }

        .input-section {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .input-label {
            display: block;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .input-textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #cbd5e1;
            border-radius: 10px;
            font-size: 1rem;
            resize: vertical;
            min-height: 150px;
            font-family: inherit;
        }

        .input-textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(59, 130, 246, 0.3);
        }

        .btn-secondary {
            background: white;
            color: #3b82f6;
            border: 2px solid #3b82f6;
        }

        .btn-secondary:hover {
            background: #eff6ff;
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
        }

        .feedback-card {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 2px solid #f59e0b;
        }

        .feedback-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #92400e;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .feedback-content {
            color: #78350f;
            line-height: 1.6;
        }

        .score-display {
            display: flex;
            justify-content: space-around;
            margin-bottom: 25px;
        }

        .score-item {
            text-align: center;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .score-label {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 10px;
        }

        .score-value {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .score-bar {
            width: 100%;
            height: 10px;
            background: #e2e8f0;
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(135deg, #10b981, #3b82f6);
            transition: width 1s ease;
        }

        .qa-section {
            margin-top: 30px;
        }

        .qa-item {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .qa-question {
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .qa-answer-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #cbd5e1;
            border-radius: 8px;
            font-size: 0.95rem;
            margin-bottom: 10px;
        }

        .qa-feedback {
            background: #f0fdf4;
            border-left: 4px solid #10b981;
            padding: 12px;
            border-radius: 8px;
            margin-top: 10px;
            color: #065f46;
        }

        .tips-section {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
        }

        .tips-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e40af;
            margin-bottom: 20px;
            text-align: center;
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .tip-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .tip-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .tip-title {
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 10px;
        }

        .tip-content {
            color: #64748b;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes slideIn {
            from {
                transform: translateX(100px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .timer {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            margin-bottom: 20px;
        }

        .timer-display {
            font-size: 2rem;
            font-weight: bold;
            color: #92400e;
        }

        .timer-controls {
            margin-top: 10px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .timer-btn {
            padding: 5px 15px;
            border: none;
            border-radius: 5px;
            background: #f59e0b;
            color: white;
            cursor: pointer;
            font-weight: 600;
        }

        .timer-btn:hover {
            background: #d97706;
        }

        .progress-tracker {
            background: #f8fafc;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .progress-step {
            flex: 1;
            text-align: center;
            position: relative;
        }

        .progress-step::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            width: 100%;
            height: 2px;
            background: #e2e8f0;
            z-index: 1;
        }

        .progress-step:last-child::before {
            display: none;
        }

        .progress-step.completed::before {
            background: #10b981;
        }

        .progress-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 3px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            position: relative;
            z-index: 2;
            font-weight: bold;
            color: #94a3b8;
        }

        .progress-step.active .progress-circle {
            border-color: #3b82f6;
            color: #3b82f6;
            background: #eff6ff;
        }

        .progress-step.completed .progress-circle {
            border-color: #10b981;
            background: #10b981;
            color: white;
        }

        .progress-label {
            font-size: 0.9rem;
            color: #64748b;
        }

        .result-summary {
            background: linear-gradient(135deg, #f0fdf4, #dcfce7);
            border: 2px solid #10b981;
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
        }

        .result-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #065f46;
            margin-bottom: 20px;
            text-align: center;
        }

        .result-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .metric-label {
            font-size: 0.9rem;
            color: #64748b;
            margin-bottom: 10px;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: #10b981;
        }

        .improvement-list {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .improvement-item {
            display: flex;
            align-items: start;
            gap: 10px;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e2e8f0;
        }

        .improvement-item:last-child {
            border-bottom: none;
        }

        .improvement-icon {
            font-size: 1.5rem;
            color: #3b82f6;
        }

        .improvement-content {
            flex: 1;
        }

        .improvement-title {
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 5px;
        }

        .improvement-desc {
            color: #64748b;
            font-size: 0.95rem;
        }

        @media (max-width: 768px) {
            .container {
                border-radius: 0;
            }

            .preset-grid,
            .tips-grid,
            .result-metrics {
                grid-template-columns: 1fr;
            }

            .tabs {
                flex-direction: column;
            }

            .progress-steps {
                flex-direction: column;
                gap: 20px;
            }

            .progress-step::before {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎯 최종 프레젠테이션 코치</h1>
            <p>SmartWAN 영업 프레젠테이션을 AI와 함께 완벽하게 준비하세요</p>
        </div>

        <div class="api-setup">
            <h3>🔑 Hugging Face API 설정</h3>
            <div class="api-input-group">
                <input type="text" class="api-input" id="apiKey" placeholder="Hugging Face API 키를 입력하세요">
                <button class="api-save-btn" onclick="saveApiKey()">저장</button>
            </div>
            <small style="color: #64748b;">* API 키는 브라우저에 안전하게 저장되며, 외부로 전송되지 않습니다.</small>
        </div>

        <div class="tabs">
            <div class="tab active" onclick="switchTab('preset')">📋 시나리오 선택</div>
            <div class="tab" onclick="switchTab('structure')">🏗️ 구성 최적화</div>
            <div class="tab" onclick="switchTab('qa')">❓ Q&A 대비</div>
            <div class="tab" onclick="switchTab('practice')">🎤 실전 연습</div>
            <div class="tab" onclick="switchTab('feedback')">📊 종합 피드백</div>
        </div>

        <div class="content">
            <!-- 시나리오 선택 섹션 -->
            <div id="preset" class="section active">
                <h2 style="color: #1e40af; margin-bottom: 20px;">프레젠테이션 시나리오 선택</h2>
                
                <div class="preset-grid">
                    <div class="preset-card" onclick="selectPreset('enterprise')">
                        <div class="preset-title">🏢 대기업 임원진 대상</div>
                        <div class="preset-desc">C-Level 의사결정자를 대상으로 한 전략적 가치 중심 프레젠테이션</div>
                        <div class="preset-tags">
                            <span class="preset-tag">TCO 중심</span>
                            <span class="preset-tag">비즈니스 임팩트</span>
                            <span class="preset-tag">20분</span>
                        </div>
                    </div>

                    <div class="preset-card" onclick="selectPreset('technical')">
                        <div class="preset-title">💻 기술팀 대상</div>
                        <div class="preset-desc">IT 담당자와 엔지니어를 위한 기술 심화 프레젠테이션</div>
                        <div class="preset-tags">
                            <span class="preset-tag">아키텍처</span>
                            <span class="preset-tag">보안 기능</span>
                            <span class="preset-tag">30분</span>
                        </div>
                    </div>

                    <div class="preset-card" onclick="selectPreset('finance')">
                        <div class="preset-title">💰 재무팀 대상</div>
                        <div class="preset-desc">구매 담당자와 재무 책임자를 위한 ROI 중심 프레젠테이션</div>
                        <div class="preset-tags">
                            <span class="preset-tag">ROI 분석</span>
                            <span class="preset-tag">비용 절감</span>
                            <span class="preset-tag">15분</span>
                        </div>
                    </div>

                    <div class="preset-card" onclick="selectPreset('competitive')">
                        <div class="preset-title">⚔️ 경쟁 PT</div>
                        <div class="preset-desc">경쟁사 대비 차별화 포인트를 강조하는 프레젠테이션</div>
                        <div class="preset-tags">
                            <span class="preset-tag">비교 분석</span>
                            <span class="preset-tag">차별화</span>
                            <span class="preset-tag">25분</span>
                        </div>
                    </div>

                    <div class="preset-card" onclick="selectPreset('poc')">
                        <div class="preset-title">🔬 PoC 결과 발표</div>
                        <div class="preset-desc">파일럿 프로젝트 결과 공유 및 확대 제안</div>
                        <div class="preset-tags">
                            <span class="preset-tag">성과 데이터</span>
                            <span class="preset-tag">확장 계획</span>
                            <span class="preset-tag">20분</span>
                        </div>
                    </div>

                    <div class="preset-card" onclick="selectPreset('renewal')">
                        <div class="preset-title">🔄 계약 갱신</div>
                        <div class="preset-desc">기존 고객 대상 계약 갱신 및 업그레이드 제안</div>
                        <div class="preset-tags">
                            <span class="preset-tag">성과 리뷰</span>
                            <span class="preset-tag">추가 가치</span>
                            <span class="preset-tag">15분</span>
                        </div>
                    </div>
                </div>

                <div class="input-section">
                    <label class="input-label">고객사 정보 입력</label>
                    <textarea class="input-textarea" id="customerInfo" placeholder="고객사명, 업종, 규모, 주요 Pain Point, 의사결정자 정보 등을 입력하세요..."></textarea>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="generateStructure()">🚀 프레젠테이션 구조 생성</button>
                </div>
            </div>

            <!-- 구성 최적화 섹션 -->
            <div id="structure" class="section">
                <h2 style="color: #1e40af; margin-bottom: 20px;">프레젠테이션 구성 최적화</h2>

                <div class="progress-tracker">
                    <div class="progress-steps">
                        <div class="progress-step completed">
                            <div class="progress-circle">✓</div>
                            <div class="progress-label">도입부</div>
                        </div>
                        <div class="progress-step active">
                            <div class="progress-circle">2</div>
                            <div class="progress-label">현황 분석</div>
                        </div>
                        <div class="progress-step">
                            <div class="progress-circle">3</div>
                            <div class="progress-label">솔루션 제안</div>
                        </div>
                        <div class="progress-step">
                            <div class="progress-circle">4</div>
                            <div class="progress-label">가치 입증</div>
                        </div>
                        <div class="progress-step">
                            <div class="progress-circle">5</div>
                            <div class="progress-label">마무리</div>
                        </div>
                    </div>
                </div>

                <div class="input-section">
                    <label class="input-label">현재 프레젠테이션 구성 입력</label>
                    <textarea class="input-textarea" id="presentationStructure" placeholder="슬라이드 제목과 주요 내용을 순서대로 입력하세요..." rows="10"></textarea>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="analyzeStructure()">🔍 구성 분석</button>
                    <button class="btn btn-secondary" onclick="optimizeStructure()">✨ 최적화 제안</button>
                </div>

                <div id="structureFeedback" class="feedback-card" style="display: none;">
                    <div class="feedback-title">
                        <span>💡</span>
                        <span>구성 최적화 제안</span>
                    </div>
                    <div class="feedback-content" id="structureFeedbackContent">
                        <!-- AI 피드백이 여기 표시됩니다 -->
                    </div>
                </div>
            </div>

            <!-- Q&A 대비 섹션 -->
            <div id="qa" class="section">
                <h2 style="color: #1e40af; margin-bottom: 20px;">예상 Q&A 대비</h2>

                <div class="input-section">
                    <label class="input-label">프레젠테이션 핵심 내용</label>
                    <textarea class="input-textarea" id="presentationContent" placeholder="프레젠테이션의 핵심 메시지와 주요 제안 사항을 입력하세요..." rows="8"></textarea>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="generateQuestions()">🤖 예상 질문 생성</button>
                    <button class="btn btn-secondary" onclick="addCustomQuestion()">➕ 질문 추가</button>
                </div>

                <div class="qa-section" id="qaSection">
                    <!-- 예상 질문들이 여기 표시됩니다 -->
                </div>
            </div>

            <!-- 실전 연습 섹션 -->
            <div id="practice" class="section">
                <h2 style="color: #1e40af; margin-bottom: 20px;">실전 프레젠테이션 연습</h2>

                <div class="timer">
                    <div class="timer-display" id="timerDisplay">00:00</div>
                    <div class="timer-controls">
                        <button class="timer-btn" onclick="startTimer()">시작</button>
                        <button class="timer-btn" onclick="pauseTimer()">일시정지</button>
                        <button class="timer-btn" onclick="resetTimer()">초기화</button>
                    </div>
                </div>

                <div class="input-section">
                    <label class="input-label">핵심 메시지 스크립트</label>
                    <textarea class="input-textarea" id="practiceScript" placeholder="발표하실 내용을 입력하세요. AI가 톤, 속도, 강조 포인트를 분석해드립니다..." rows="12"></textarea>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-success" onclick="analyzePractice()">🎯 발표 분석</button>
                    <button class="btn btn-secondary" onclick="getDeliveryTips()">💬 전달 기법 팁</button>
                </div>

                <div class="score-display" id="practiceScore" style="display: none;">
                    <div class="score-item">
                        <div class="score-label">명확성</div>
                        <div class="score-value" id="clarityScore">0</div>
                        <div class="score-bar">
                            <div class="score-fill" id="clarityBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="score-item">
                        <div class="score-label">설득력</div>
                        <div class="score-value" id="persuasionScore">0</div>
                        <div class="score-bar">
                            <div class="score-fill" id="persuasionBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="score-item">
                        <div class="score-label">전문성</div>
                        <div class="score-value" id="professionalScore">0</div>
                        <div class="score-bar">
                            <div class="score-fill" id="professionalBar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 종합 피드백 섹션 -->
            <div id="feedback" class="section">
                <h2 style="color: #1e40af; margin-bottom: 20px;">종합 피드백 및 개선점</h2>

                <div class="result-summary" id="resultSummary" style="display: none;">
                    <div class="result-title">🏆 프레젠테이션 준비도 평가</div>
                    
                    <div class="result-metrics">
                        <div class="metric-card">
                            <div class="metric-label">전체 준비도</div>
                            <div class="metric-value" id="overallScore">85%</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">예상 소요시간</div>
                            <div class="metric-value" id="estimatedTime">22분</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">핵심 메시지 강도</div>
                            <div class="metric-value" id="messageStrength">높음</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-label">리스크 대응도</div>
                            <div class="metric-value" id="riskReadiness">90%</div>
                        </div>
                    </div>

                    <div class="improvement-list">
                        <h3 style="color: #1e40af; margin-bottom: 20px;">주요 개선 권장사항</h3>
                        <div id="improvementItems">
                            <!-- 개선 사항이 여기 표시됩니다 -->
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="generateFinalReport()">📊 최종 리포트 생성</button>
                    <button class="btn btn-secondary" onclick="exportReport()">📥 리포트 다운로드</button>
                </div>
            </div>
        </div>

        <!-- 프레젠테이션 팁 섹션 -->
        <div class="tips-section">
            <div class="tips-title">💡 SmartWAN 프레젠테이션 핵심 팁</div>
            <div class="tips-grid">
                <div class="tip-card">
                    <div class="tip-icon">🎯</div>
                    <div class="tip-title">첫 3분이 승부</div>
                    <div class="tip-content">고객의 Pain Point를 정확히 짚고, SmartWAN이 제공하는 핵심 가치를 명확히 전달하세요.</div>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">📊</div>
                    <div class="tip-title">데이터로 입증</div>
                    <div class="tip-content">TCO 절감율, 보안 사고 감소율, 운영 효율성 개선 등 구체적인 수치를 제시하세요.</div>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">🔒</div>
                    <div class="tip-title">Zero Trust 강조</div>
                    <div class="tip-content">ZTNA 기반의 강력한 보안 아키텍처와 실시간 위협 탐지 능력을 부각시키세요.</div>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">🚀</div>
                    <div class="tip-title">구현 용이성</div>
                    <div class="tip-content">기존 인프라와의 호환성, 단계적 구현 방안, SKT의 전문 지원을 강조하세요.</div>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">💼</div>
                    <div class="tip-title">성공 사례 활용</div>
                    <div class="tip-content">유사 업종의 구체적인 성공 사례와 고객 증언을 적절히 활용하세요.</div>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">🤝</div>
                    <div class="tip-title">파트너십 강조</div>
                    <div class="tip-content">단순 벤더가 아닌 디지털 전환 파트너로서 SKT의 역할을 강조하세요.</div>
                </div>
            </div>
        </div>

        <!-- 로딩 인디케이터 -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>AI가 분석 중입니다...</p>
        </div>
    </div>

    <script>
        // 전역 변수
        let apiKey = '';
        let selectedPreset = '';
        let timerInterval = null;
        let seconds = 0;
        let presentationData = {
            structure: [],
            questions: [],
            practiceResults: {},
            improvements: []
        };

        // API 키 저장
        function saveApiKey() {
            apiKey = document.getElementById('apiKey').value;
            if (apiKey) {
                localStorage.setItem('hf_api_key', apiKey);
                alert('API 키가 저장되었습니다!');
            }
        }

        // 페이지 로드 시 저장된 API 키 불러오기
        window.onload = function() {
            const savedKey = localStorage.getItem('hf_api_key');
            if (savedKey) {
                apiKey = savedKey;
                document.getElementById('apiKey').value = savedKey;
            }
        };

        // 탭 전환
        function switchTab(tabName) {
            // 모든 탭과 섹션 비활성화
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
            
            // 선택된 탭과 섹션 활성화
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // 프리셋 선택
        function selectPreset(presetType) {
            selectedPreset = presetType;
            document.querySelectorAll('.preset-card').forEach(card => card.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            
            // 프리셋에 따른 기본 구조 설정
            let defaultStructure = '';
            switch(presetType) {
                case 'enterprise':
                    defaultStructure = '1. Executive Summary\n2. 비즈니스 과제 분석\n3. SmartWAN 솔루션 개요\n4. ROI 및 비즈니스 가치\n5. 구현 로드맵\n6. 성공 사례\n7. 다음 단계';
                    break;
                case 'technical':
                    defaultStructure = '1. 기술 아키텍처 개요\n2. ZTNA 보안 프레임워크\n3. 네트워크 최적화 기능\n4. 통합 관리 플랫폼\n5. API 및 연동 방안\n6. PoC 계획\n7. 기술 지원';
                    break;
                case 'finance':
                    defaultStructure = '1. 투자 대비 효과 요약\n2. TCO 분석\n3. 비용 절감 항목\n4. ROI 타임라인\n5. 가격 옵션\n6. 계약 조건';
                    break;
                // 다른 프리셋들도 추가
            }
            
            // structure 탭의 textarea에 기본 구조 입력
            if (document.getElementById('presentationStructure')) {
                document.getElementById('presentationStructure').value = defaultStructure;
            }
        }

        // Hugging Face API 호출 함수
        async function callHuggingFaceAPI(prompt, model = "mistralai/Mixtral-8x7B-Instruct-v0.1") {
            if (!apiKey) {
                alert('먼저 API 키를 설정해주세요.');
                return null;
            }

            showLoading(true);

            try {
                const response = await fetch(`https://api-inference.huggingface.co/models/${model}`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        inputs: prompt,
                        parameters: {
                            max_new_tokens: 500,
                            temperature: 0.7,
                            top_p: 0.95,
                            do_sample: true
                        }
                    })
                });

                if (!response.ok) {
                    throw new Error('API 요청 실패');
                }

                const data = await response.json();
                showLoading(false);
                return data[0].generated_text;
            } catch (error) {
                showLoading(false);
                console.error('API 에러:', error);
                // 폴백: 미리 정의된 응답 반환
                return generateFallbackResponse(prompt);
            }
        }

        // 로딩 표시
        function showLoading(show) {
            document.getElementById('loading').classList.toggle('active', show);
        }

        // 프레젠테이션 구조 생성
        async function generateStructure() {
            const customerInfo = document.getElementById('customerInfo').value;
            if (!customerInfo) {
                alert('고객사 정보를 입력해주세요.');
                return;
            }

            const prompt = `SmartWAN 영업 프레젠테이션 구조를 생성해주세요.
            고객 정보: ${customerInfo}
            시나리오: ${selectedPreset}
            
            다음 형식으로 작성:
            1. 도입부 (2분)
            2. 현황 분석 (3분)
            3. 솔루션 제안 (10분)
            4. 가치 입증 (3분)
            5. 마무리 (2분)`;

            const response = await callHuggingFaceAPI(prompt);
            
            if (response) {
                // structure 탭으로 이동하고 결과 표시
                switchTab('structure');
                document.getElementById('presentationStructure').value = response;
            }
        }

        // 구조 분석
        async function analyzeStructure() {
            const structure = document.getElementById('presentationStructure').value;
            if (!structure) {
                alert('프레젠테이션 구조를 입력해주세요.');
                return;
            }

            const prompt = `다음 SmartWAN 프레젠테이션 구조를 분석하고 개선점을 제안해주세요:
            ${structure}
            
            평가 기준:
            - 논리적 흐름
            - 시간 배분
            - 핵심 메시지 전달
            - 고객 관심사 반영`;

            const response = await callHuggingFaceAPI(prompt);
            
            if (response) {
                document.getElementById('structureFeedback').style.display = 'block';
                document.getElementById('structureFeedbackContent').innerHTML = response.replace(/\n/g, '<br>');
            }
        }

        // 예상 질문 생성
        async function generateQuestions() {
            const content = document.getElementById('presentationContent').value || document.getElementById('presentationStructure').value;
            if (!content) {
                alert('프레젠테이션 내용을 입력해주세요.');
                return;
            }

            const questions = [
                "현재 사용 중인 경쟁사 솔루션 대비 SmartWAN의 차별점은 무엇인가요?",
                "Zero Trust 구현 시 기존 시스템과의 호환성 문제는 없나요?",
                "TCO 절감 효과를 구체적으로 어떻게 측정할 수 있나요?",
                "구현 기간과 단계별 일정은 어떻게 되나요?",
                "운영 중 장애 발생 시 대응 체계는 어떻게 되나요?"
            ];

            const qaSection = document.getElementById('qaSection');
            qaSection.innerHTML = '';

            questions.forEach((question, index) => {
                const qaItem = document.createElement('div');
                qaItem.className = 'qa-item';
                qaItem.innerHTML = `
                    <div class="qa-question">Q${index + 1}. ${question}</div>
                    <textarea class="qa-answer-input" id="answer_${index}" placeholder="답변을 작성하세요..."></textarea>
                    <button class="btn btn-secondary" onclick="evaluateAnswer(${index})">답변 평가</button>
                    <div class="qa-feedback" id="feedback_${index}" style="display: none;"></div>
                `;
                qaSection.appendChild(qaItem);
            });

            presentationData.questions = questions;
        }

        // 답변 평가
        async function evaluateAnswer(index) {
            const answer = document.getElementById(`answer_${index}`).value;
            if (!answer) {
                alert('답변을 작성해주세요.');
                return;
            }

            const question = presentationData.questions[index];
            const feedback = evaluateAnswerLocally(question, answer);
            
            const feedbackDiv = document.getElementById(`feedback_${index}`);
            feedbackDiv.style.display = 'block';
            feedbackDiv.innerHTML = `<strong>피드백:</strong> ${feedback}`;
        }

        // 로컬 답변 평가 함수
        function evaluateAnswerLocally(question, answer) {
            const keywords = {
                '차별점': ['ZTNA', '보안', 'SKT', '통합관리', '비용절감'],
                '호환성': ['API', '단계적', '기존시스템', '통합', '마이그레이션'],
                'TCO': ['절감률', '운영비용', 'OPEX', 'CAPEX', 'ROI'],
                '구현': ['단계', '일정', 'PoC', '파일럿', '확대'],
                '장애': ['24x7', 'SLA', '모니터링', '대응체계', '복구']
            };

            // 키워드 매칭으로 간단한 평가
            let score = 0;
            let feedback = '';

            for (let key in keywords) {
                if (question.includes(key)) {
                    const relevantKeywords = keywords[key];
                    const foundKeywords = relevantKeywords.filter(kw => answer.includes(kw));
                    score += foundKeywords.length * 20;
                    
                    if (foundKeywords.length > 0) {
                        feedback += `✅ 핵심 키워드 포함: ${foundKeywords.join(', ')}<br>`;
                    } else {
                        feedback += `⚠️ 다음 키워드 추가 권장: ${relevantKeywords.slice(0, 2).join(', ')}<br>`;
                    }
                }
            }

            if (answer.length < 50) {
                feedback += '⚠️ 답변이 너무 짧습니다. 더 구체적으로 설명해주세요.<br>';
            }

            if (score >= 60) {
                feedback += '👍 전반적으로 좋은 답변입니다!';
            } else {
                feedback += '💡 더 구체적인 수치와 사례를 추가하면 좋겠습니다.';
            }

            return feedback;
        }

        // 발표 연습 분석
        async function analyzePractice() {
            const script = document.getElementById('practiceScript').value;
            if (!script) {
                alert('발표 스크립트를 입력해주세요.');
                return;
            }

            // 간단한 분석 수행
            const scores = analyzeScriptLocally(script);
            
            document.getElementById('practiceScore').style.display = 'flex';
            
            // 점수 표시 애니메이션
            Object.keys(scores).forEach(key => {
                const score = scores[key];
                document.getElementById(`${key}Score`).textContent = score;
                document.getElementById(`${key}Bar`).style.width = `${score}%`;
            });

            presentationData.practiceResults = scores;
        }

        // 로컬 스크립트 분석
        function analyzeScriptLocally(script) {
            const scores = {
                clarity: 0,
                persuasion: 0,
                professional: 0
            };

            // 명확성 평가
            const clarityKeywords = ['첫째', '둘째', '정리하면', '핵심은', '요약하면'];
            scores.clarity = Math.min(85 + clarityKeywords.filter(kw => script.includes(kw)).length * 3, 95);

            // 설득력 평가
            const persuasionKeywords = ['절감', 'ROI', '개선', '효과', '성과', '입증'];
            scores.persuasion = Math.min(80 + persuasionKeywords.filter(kw => script.includes(kw)).length * 3, 95);

            // 전문성 평가
            const professionalKeywords = ['ZTNA', 'SD-WAN', 'Zero Trust', 'API', 'SLA', 'TCO'];
            scores.professional = Math.min(75 + professionalKeywords.filter(kw => script.includes(kw)).length * 4, 95);

            return scores;
        }

        // 타이머 기능
        function startTimer() {
            if (!timerInterval) {
                timerInterval = setInterval(() => {
                    seconds++;
                    updateTimerDisplay();
                }, 1000);
            }
        }

        function pauseTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            seconds = 0;
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(seconds / 60);
            const secs = seconds % 60;
            document.getElementById('timerDisplay').textContent = 
                `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }

        // 최종 리포트 생성
        function generateFinalReport() {
            // 수집된 데이터를 기반으로 종합 평가
            const overallScore = calculateOverallScore();
            
            document.getElementById('resultSummary').style.display = 'block';
            document.getElementById('overallScore').textContent = `${overallScore}%`;
            
            // 개선 사항 생성
            const improvements = generateImprovements();
            const improvementHTML = improvements.map(item => `
                <div class="improvement-item">
                    <div class="improvement-icon">${item.icon}</div>
                    <div class="improvement-content">
                        <div class="improvement-title">${item.title}</div>
                        <div class="improvement-desc">${item.desc}</div>
                    </div>
                </div>
            `).join('');
            
            document.getElementById('improvementItems').innerHTML = improvementHTML;
        }

        // 전체 점수 계산
        function calculateOverallScore() {
            let score = 70; // 기본 점수
            
            if (selectedPreset) score += 5;
            if (presentationData.structure.length > 0) score += 10;
            if (presentationData.questions.length > 0) score += 10;
            if (presentationData.practiceResults.clarity) {
                score += Math.floor((presentationData.practiceResults.clarity + 
                         presentationData.practiceResults.persuasion + 
                         presentationData.practiceResults.professional) / 30);
            }
            
            return Math.min(score, 95);
        }

        // 개선 사항 생성
        function generateImprovements() {
            const improvements = [];
            
            if (!presentationData.practiceResults.clarity || presentationData.practiceResults.clarity < 80) {
                improvements.push({
                    icon: '📝',
                    title: '메시지 구조화',
                    desc: '핵심 메시지를 더 명확하게 구조화하고, 번호나 불릿 포인트를 활용하여 전달력을 높이세요.'
                });
            }
            
            if (!presentationData.practiceResults.persuasion || presentationData.practiceResults.persuasion < 85) {
                improvements.push({
                    icon: '📊',
                    title: '데이터 강화',
                    desc: '구체적인 수치와 성공 사례를 추가하여 제안의 설득력을 강화하세요.'
                });
            }
            
            improvements.push({
                icon: '🎯',
                title: '고객 맞춤화',
                desc: '고객의 업종과 규모에 맞는 구체적인 사례와 벤치마크를 추가하세요.'
            });
            
            improvements.push({
                icon: '⏱️',
                title: '시간 관리',
                desc: 'Q&A 시간을 충분히 확보하고, 핵심 메시지 전달에 집중하세요.'
            });
            
            return improvements;
        }

        // 리포트 다운로드
        function exportReport() {
            const reportContent = generateReportContent();
            const blob = new Blob([reportContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'smartwan_presentation_report.html';
            a.click();
            URL.revokeObjectURL(url);
        }

        // 리포트 내용 생성
        function generateReportContent() {
            return `
            <!DOCTYPE html>
            <html lang="ko">
            <head>
                <meta charset="UTF-8">
                <title>SmartWAN 프레젠테이션 준비 리포트</title>
                <style>
                    body { font-family: 'Malgun Gothic', sans-serif; padding: 40px; line-height: 1.6; }
                    h1 { color: #1e3a8a; border-bottom: 3px solid #3b82f6; padding-bottom: 10px; }
                    h2 { color: #1e40af; margin-top: 30px; }
                    .section { margin-bottom: 30px; padding: 20px; background: #f8fafc; border-radius: 10px; }
                    .score { font-size: 2em; color: #10b981; font-weight: bold; }
                </style>
            </head>
            <body>
                <h1>SmartWAN 프레젠테이션 준비 리포트</h1>
                <div class="section">
                    <h2>종합 평가</h2>
                    <p>전체 준비도: <span class="score">${calculateOverallScore()}%</span></p>
                    <p>시나리오: ${selectedPreset || '미선택'}</p>
                    <p>생성일시: ${new Date().toLocaleString('ko-KR')}</p>
                </div>
                <div class="section">
                    <h2>주요 개선 권장사항</h2>
                    ${generateImprovements().map(item => `<p>• ${item.title}: ${item.desc}</p>`).join('')}
                </div>
            </body>
            </html>
            `;
        }

        // 전달 기법 팁
        function getDeliveryTips() {
            const tips = `
            <h3>🎤 SmartWAN 프레젠테이션 전달 기법</h3>
            <ul style="line-height: 1.8;">
                <li><strong>오프닝 (30초 룰):</strong> "귀사의 네트워크 보안 비용을 40% 절감하면서 동시에 보안을 강화할 수 있다면?"</li>
                <li><strong>아이컨택:</strong> 의사결정자와 70%, 기술담당자와 30% 비율로 시선 배분</li>
                <li><strong>속도 조절:</strong> TCO 30-40% 절감 같은 핵심 수치는 천천히 2번 반복</li>
                <li><strong>강조 기법:</strong> "특히", "핵심은", "중요한 점은" 등의 신호어 활용</li>
                <li><strong>전략적 침묵:</strong> 중요 포인트 후 3초 정지로 메시지 각인</li>
                <li><strong>제스처 활용:</strong> Zero Trust는 원을 그리며, SD-WAN은 연결 동작으로 표현</li>
                <li><strong>참여 유도:</strong> "혹시 랜섬웨어 공격 경험이 있으신가요?" 같은 질문 활용</li>
                <li><strong>스토리텔링:</strong> "A은행은 SmartWAN 도입 후..." 같은 실제 사례 활용</li>
                <li><strong>클로징:</strong> "다음 주 PoC를 시작하시면..." 같은 구체적 제안으로 마무리</li>
            </ul>
            
            <h3>🚫 피해야 할 실수</h3>
            <ul style="line-height: 1.8;">
                <li>경쟁사를 직접 비난하지 마세요 - 차별점만 객관적으로 제시</li>
                <li>기술 용어를 남발하지 마세요 - 청중 수준에 맞춰 조절</li>
                <li>약속할 수 없는 것은 말하지 마세요 - 실현 가능한 것만 제시</li>
                <li>시간을 초과하지 마세요 - Q&A 시간 확보가 중요</li>
            </ul>
            `;
            
            // 기존 팁이 있으면 제거
            const existingTips = document.querySelector('#practice .feedback-card.delivery-tips');
            if (existingTips) existingTips.remove();
            
            const feedbackDiv = document.createElement('div');
            feedbackDiv.className = 'feedback-card delivery-tips';
            feedbackDiv.innerHTML = `
                <div class="feedback-title">
                    <span>💬</span>
                    <span>프레젠테이션 전달 기법</span>
                </div>
                <div class="feedback-content">${tips}</div>
            `;
            
            document.getElementById('practice').appendChild(feedbackDiv);
        }
    </script>
</body>
</html>
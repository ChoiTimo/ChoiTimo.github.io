<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartWAN ê³ ê° ê´€ê³„ ê³µëµ ë„êµ¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .section h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 1.5em;
            display: flex;
            align-items: center;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a5568;
        }

        .form-group select,
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group select:focus,
        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .stakeholder-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #48bb78;
            position: relative;
        }

        .stakeholder-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 20px;
        }

        .stakeholder-info {
            flex: 1;
        }

        .stakeholder-name {
            font-size: 1.3em;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 5px;
        }

        .stakeholder-role {
            color: #718096;
            font-size: 1.1em;
        }

        .influence-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .influence-level {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9em;
        }

        .influence-high { background: #f56565; color: white; }
        .influence-medium { background: #ed8936; color: white; }
        .influence-low { background: #68d391; color: white; }

        .relationship-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .metric-item {
            text-align: center;
            padding: 15px;
            background: #f7fafc;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
        }

        .metric-label {
            font-size: 0.9em;
            color: #718096;
            margin-bottom: 5px;
        }

        .metric-value {
            font-size: 1.2em;
            font-weight: 700;
            color: #2d3748;
        }

        .sentiment-positive { color: #48bb78; }
        .sentiment-neutral { color: #ed8936; }
        .sentiment-negative { color: #f56565; }

        .strategy-box {
            background: #ebf8ff;
            border: 2px solid #bee3f8;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
        }

        .strategy-title {
            color: #2b6cb0;
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .action-items {
            background: #f0fff4;
            border: 2px solid #c6f6d5;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
        }

        .action-title {
            color: #22543d;
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .warning-box {
            background: #fef5e7;
            border: 2px solid #f6e05e;
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
        }

        .warning-title {
            color: #d69e2e;
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .add-stakeholder-btn {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(72, 187, 120, 0.3);
        }

        .add-stakeholder-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(72, 187, 120, 0.4);
        }

        .analyze-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 40px auto;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .relationship-map {
            margin-top: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 15px;
            border: 2px solid #e2e8f0;
            display: none;
        }

        .relationship-map.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .pipeline-strategy {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 5px solid #667eea;
        }

        .priority-badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            margin-left: 15px;
        }

        .priority-critical { background: #f56565; color: white; }
        .priority-high { background: #ed8936; color: white; }
        .priority-medium { background: #48bb78; color: white; }

        .champion-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ffd700;
            color: #2d3748;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .blocker-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #f56565;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .slider-container {
            margin: 15px 0;
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: 5px;
            background: #e2e8f0;
            outline: none;
            transition: all 0.3s ease;
        }

        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        .delete-btn {
            background: #f56565;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .delete-btn:hover {
            background: #e53e3e;
            transform: translateY(-1px);
        }

        @media (max-width: 768px) {
            .container {
                margin: 0;
                border-radius: 0;
            }
            
            .content {
                padding: 20px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }

            .relationship-metrics {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ SmartWAN ê³ ê° ê´€ê³„ ê³µëµ ë„êµ¬</h1>
            <p>B2B ì˜ì—… ì „ë¬¸ê°€ê°€ ì„¤ê³„í•œ ì „ëµì  ê´€ê³„ ë§¤í•‘ & ê³µëµ ì‹œìŠ¤í…œ</p>
        </div>

        <div class="content">
            <!-- ê³ ê°ì‚¬ ê¸°ë³¸ ì •ë³´ -->
            <div class="section">
                <h2>ğŸ¢ Target ê³ ê°ì‚¬ ì •ë³´</h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="company">ê³ ê°ì‚¬ëª…</label>
                        <input type="text" id="company" placeholder="ì˜ˆ: ì‚¼ì„±ì „ì, LGí™”í•™">
                    </div>
                    
                    <div class="form-group">
                        <label for="industry">ì—…ì¢…</label>
                        <select id="industry">
                            <option value="">ì—…ì¢… ì„ íƒ</option>
                            <option value="manufacturing">ì œì¡°ì—…</option>
                            <option value="financial">ê¸ˆìœµì—…</option>
                            <option value="enterprise">ê¸°ì—…ì„œë¹„ìŠ¤</option>
                            <option value="public">ê³µê³µ/ì¤€ê³µê³µ</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="dealSize">ì˜ˆìƒ ë”œ ì‚¬ì´ì¦ˆ</label>
                        <select id="dealSize">
                            <option value="">ë”œ ì‚¬ì´ì¦ˆ ì„ íƒ</option>
                            <option value="small">1ì–µ ë¯¸ë§Œ (Small Deal)</option>
                            <option value="medium">1-10ì–µ (Medium Deal)</option>
                            <option value="large">10-50ì–µ (Large Deal)</option>
                            <option value="strategic">50ì–µ ì´ìƒ (Strategic Deal)</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="salesStage">í˜„ì¬ ì˜ì—… ë‹¨ê³„</label>
                        <select id="salesStage">
                            <option value="">ì˜ì—… ë‹¨ê³„ ì„ íƒ</option>
                            <option value="prospecting">Prospecting (ì ì¬ê³ ê° ë°œêµ´)</option>
                            <option value="qualifying">Qualifying (ë‹ˆì¦ˆ í™•ì¸)</option>
                            <option value="proposing">Proposing (ì œì•ˆ)</option>
                            <option value="negotiating">Negotiating (í˜‘ìƒ)</option>
                            <option value="closing">Closing (í´ë¡œì§•)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="timeframe">ì˜ˆìƒ ê²°ì • ì‹œê¸°</label>
                        <select id="timeframe">
                            <option value="">ì‹œê¸° ì„ íƒ</option>
                            <option value="immediate">1ê°œì›” ë‚´ (ê¸´ê¸‰)</option>
                            <option value="short">2-3ê°œì›” (ë‹¨ê¸°)</option>
                            <option value="medium">3-6ê°œì›” (ì¤‘ê¸°)</option>
                            <option value="long">6ê°œì›” ì´ìƒ (ì¥ê¸°)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="competition">ì£¼ìš” ê²½ìŸì‚¬</label>
                        <select id="competition">
                            <option value="">ê²½ìŸì‚¬ ì„ íƒ</option>
                            <option value="cisco">Cisco</option>
                            <option value="fortinet">Fortinet</option>
                            <option value="paloalto">Palo Alto</option>
                            <option value="cato">Cato Networks</option>
                            <option value="others">ê¸°íƒ€</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- ì´í•´ê´€ê³„ì ì¶”ê°€ ì„¹ì…˜ -->
            <div class="section">
                <h2>ğŸ‘¥ ì´í•´ê´€ê³„ì ë§¤í•‘</h2>
                <p style="margin-bottom: 20px; color: #718096;">êµ¬ë§¤ ì˜ì‚¬ê²°ì •ì— ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ëª¨ë“  ì¸ë¬¼ì„ ì¶”ê°€í•˜ê³  ê´€ê³„ë¥¼ ë¶„ì„í•˜ì„¸ìš”.</p>
                
                <button class="add-stakeholder-btn" onclick="addStakeholder()">
                    â• ìƒˆ ì´í•´ê´€ê³„ì ì¶”ê°€
                </button>

                <div id="stakeholdersList">
                    <!-- ì´í•´ê´€ê³„ì ì¹´ë“œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                </div>
            </div>

            <button class="analyze-btn" onclick="analyzeRelationships()">
                ğŸ¯ ê´€ê³„ë„ ë¶„ì„ ë° ê³µëµ ì „ëµ ìƒì„±
            </button>

            <!-- ë¶„ì„ ê²°ê³¼ -->
            <div class="relationship-map" id="relationshipMap">
                <div id="analysisResults"></div>
            </div>
        </div>
    </div>

    <script>
        let stakeholderCount = 0;
        let stakeholders = [];

        function addStakeholder() {
            stakeholderCount++;
            const stakeholderId = `stakeholder_${stakeholderCount}`;
            
            const stakeholderHTML = `
                <div class="stakeholder-card" id="${stakeholderId}">
                    <div class="stakeholder-header">
                        <div class="stakeholder-info">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>ì´ë¦„</label>
                                    <input type="text" id="${stakeholderId}_name" placeholder="í™ê¸¸ë™">
                                </div>
                                <div class="form-group">
                                    <label>ì§ì±…/ë¶€ì„œ</label>
                                    <input type="text" id="${stakeholderId}_role" placeholder="CIO, ITë³¸ë¶€ì¥">
                                </div>
                            </div>
                        </div>
                        <button class="delete-btn" onclick="removeStakeholder('${stakeholderId}')">ì‚­ì œ</button>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>ì—­í•  ìœ í˜•</label>
                            <select id="${stakeholderId}_type">
                                <option value="">ì—­í•  ì„ íƒ</option>
                                <option value="decision_maker">ìµœì¢… ì˜ì‚¬ê²°ì •ì (Decision Maker)</option>
                                <option value="influencer">ì˜í–¥ë ¥ì (Influencer)</option>
                                <option value="user">ì‹¤ì‚¬ìš©ì (End User)</option>
                                <option value="gatekeeper">ê´€ë¬¸ì§€ê¸° (Gatekeeper)</option>
                                <option value="champion">ë‚´ë¶€ ì±”í”¼ì–¸ (Champion)</option>
                                <option value="blocker">ë°˜ëŒ€ì (Blocker)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>ì˜í–¥ë ¥ ìˆ˜ì¤€</label>
                            <select id="${stakeholderId}_influence">
                                <option value="">ì˜í–¥ë ¥ ì„ íƒ</option>
                                <option value="high">High (ìµœì¢… ê²°ì •ê¶Œ)</option>
                                <option value="medium">Medium (ê°•í•œ ì˜í–¥ë ¥)</option>
                                <option value="low">Low (ì˜ê²¬ ì œì‹œ)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>ìš°ë¦¬ì™€ì˜ ê´€ê³„ì„±</label>
                            <div class="slider-container">
                                <input type="range" min="1" max="10" value="5" class="slider" id="${stakeholderId}_intimacy">
                                <div style="display: flex; justify-content: space-between; font-size: 0.8em; color: #718096;">
                                    <span>ë‚¯ì„  ì‚¬ì´ (1)</span>
                                    <span id="${stakeholderId}_intimacy_value">ë³´í†µ (5)</span>
                                    <span>ì ˆì¹œí•œ ì‚¬ì´ (10)</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>ìš°ë¦¬ì— ëŒ€í•œ íƒœë„</label>
                            <select id="${stakeholderId}_sentiment">
                                <option value="">íƒœë„ ì„ íƒ</option>
                                <option value="supporter">ì ê·¹ ì§€ì§€ (Supporter)</option>
                                <option value="positive">ìš°í˜¸ì  (Positive)</option>
                                <option value="neutral">ì¤‘ë¦½ì  (Neutral)</option>
                                <option value="skeptical">íšŒì˜ì  (Skeptical)</option>
                                <option value="hostile">ì ëŒ€ì  (Hostile)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>LinkedIn/SNS í”„ë¡œí•„</label>
                            <input type="text" id="${stakeholderId}_linkedin" placeholder="https://linkedin.com/in/profile">
                        </div>
                        
                        <div class="form-group">
                            <label>ë§ˆì§€ë§‰ ì ‘ì´‰ì¼</label>
                            <input type="date" id="${stakeholderId}_lastContact">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ì£¼ìš” ê´€ì‹¬ì‚¬/Pain Point</label>
                        <textarea id="${stakeholderId}_interests" rows="3" placeholder="ì´ ì‚¬ëŒì´ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒë“¤, í•´ê²°í•˜ê³  ì‹¶ì–´í•˜ëŠ” ë¬¸ì œì ë“¤ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    </div>

                    <div class="form-group">
                        <label>ê´€ê³„ êµ¬ì¶• ë…¸íŠ¸</label>
                        <textarea id="${stakeholderId}_notes" rows="3" placeholder="ì´ì „ ë¯¸íŒ… ë‚´ìš©, ê°œì¸ì  ì •ë³´, ê´€ê³„ êµ¬ì¶•ì„ ìœ„í•œ ë©”ëª¨ ë“±ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                    </div>
                </div>
            `;
            
            document.getElementById('stakeholdersList').insertAdjacentHTML('beforeend', stakeholderHTML);
            
            // ìŠ¬ë¼ì´ë” ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            const slider = document.getElementById(`${stakeholderId}_intimacy`);
            const valueDisplay = document.getElementById(`${stakeholderId}_intimacy_value`);
            
            slider.addEventListener('input', function() {
                const value = this.value;
                let description = '';
                if (value <= 2) description = `ë‚¯ì„  ì‚¬ì´ (${value})`;
                else if (value <= 4) description = `ì–´ìƒ‰í•œ ì‚¬ì´ (${value})`;
                else if (value <= 6) description = `ë³´í†µ ì‚¬ì´ (${value})`;
                else if (value <= 8) description = `ì¹œê·¼í•œ ì‚¬ì´ (${value})`;
                else description = `ì ˆì¹œí•œ ì‚¬ì´ (${value})`;
                
                valueDisplay.textContent = description;
            });
        }

        function removeStakeholder(stakeholderId) {
            const element = document.getElementById(stakeholderId);
            if (element) {
                element.remove();
            }
        }

        function collectStakeholderData() {
            const stakeholderElements = document.querySelectorAll('.stakeholder-card');
            const stakeholderData = [];
            
            stakeholderElements.forEach(element => {
                const id = element.id;
                const data = {
                    id: id,
                    name: document.getElementById(`${id}_name`).value,
                    role: document.getElementById(`${id}_role`).value,
                    type: document.getElementById(`${id}_type`).value,
                    influence: document.getElementById(`${id}_influence`).value,
                    intimacy: document.getElementById(`${id}_intimacy`).value,
                    sentiment: document.getElementById(`${id}_sentiment`).value,
                    linkedin: document.getElementById(`${id}_linkedin`).value,
                    lastContact: document.getElementById(`${id}_lastContact`).value,
                    interests: document.getElementById(`${id}_interests`).value,
                    notes: document.getElementById(`${id}_notes`).value
                };
                
                if (data.name && data.role) {
                    stakeholderData.push(data);
                }
            });
            
            return stakeholderData;
        }

        function analyzeRelationships() {
            const company = document.getElementById('company').value;
            const industry = document.getElementById('industry').value;
            const dealSize = document.getElementById('dealSize').value;
            const salesStage = document.getElementById('salesStage').value;
            const timeframe = document.getElementById('timeframe').value;
            const competition = document.getElementById('competition').value;
            
            const stakeholderData = collectStakeholderData();
            
            if (!company || stakeholderData.length === 0) {
                alert('ê³ ê°ì‚¬ëª…ê³¼ ìµœì†Œ 1ëª…ì˜ ì´í•´ê´€ê³„ì ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ë¶„ì„ ê²°ê³¼ ìƒì„±
            const analysis = generateAnalysis(company, industry, dealSize, salesStage, timeframe, competition, stakeholderData);
            displayAnalysis(analysis);
        }

        function generateAnalysis(company, industry, dealSize, salesStage, timeframe, competition, stakeholders) {
            // ê´€ê³„ ë¶„ì„
            const champions = stakeholders.filter(s => s.type === 'champion' || s.sentiment === 'supporter');
            const blockers = stakeholders.filter(s => s.type === 'blocker' || s.sentiment === 'hostile');
            const decisionMakers = stakeholders.filter(s => s.type === 'decision_maker');
            const influencers = stakeholders.filter(s => s.type === 'influencer');
            
            // ì¹œë°€ë„ ë¶„ì„
            const avgIntimacy = stakeholders.reduce((sum, s) => sum + parseInt(s.intimacy), 0) / stakeholders.length;
            const highIntimacy = stakeholders.filter(s => parseInt(s.intimacy) >= 7);
            const lowIntimacy = stakeholders.filter(s => parseInt(s.intimacy) <= 3);
            
            // ì˜í–¥ë ¥ ë¶„ì„
            const highInfluence = stakeholders.filter(s => s.influence === 'high');
            const mediumInfluence = stakeholders.filter(s => s.influence === 'medium');
            
            return {
                company,
                industry,
                dealSize,
                salesStage,
                timeframe,
                competition,
                stakeholders,
                analysis: {
                    champions,
                    blockers,
                    decisionMakers,
                    influencers,
                    avgIntimacy,
                    highIntimacy,
                    lowIntimacy,
                    highInfluence,
                    mediumInfluence
                }
            };
        }

        function displayAnalysis(data) {
            const resultsDiv = document.getElementById('analysisResults');
            const analysis = data.analysis;
            
            // ìœ„í—˜ë„ ê³„ì‚°
            let riskLevel = 'low';
            let riskColor = '#48bb78';
            let riskText = 'ë‚®ìŒ';
            
            if (analysis.blockers.length > analysis.champions.length || analysis.avgIntimacy < 4) {
                riskLevel = 'high';
                riskColor = '#f56565';
                riskText = 'ë†’ìŒ';
            } else if (analysis.champions.length === 0 || analysis.avgIntimacy < 6) {
                riskLevel = 'medium';
                riskColor = '#ed8936';
                riskText = 'ì¤‘ê°„';
            }
            
            resultsDiv.innerHTML = `
                <div class="pipeline-strategy">
                    <h2 style="color: #2d3748; margin-bottom: 20px;">ğŸ“Š ${data.company} ê´€ê³„ ë¶„ì„ ê²°ê³¼</h2>
                    
                    <div class="relationship-metrics">
                        <div class="metric-item">
                            <div class="metric-label">ì´ ì´í•´ê´€ê³„ì</div>
                            <div class="metric-value">${data.stakeholders.length}ëª…</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">ë‚´ë¶€ ì±”í”¼ì–¸</div>
                            <div class="metric-value sentiment-positive">${analysis.champions.length}ëª…</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">ë°˜ëŒ€ì</div>
                            <div class="metric-value sentiment-negative">${analysis.blockers.length}ëª…</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">í‰ê·  ì¹œë°€ë„</div>
                            <div class="metric-value">${analysis.avgIntimacy.toFixed(1)}/10</div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-label">ë”œ ìœ„í—˜ë„</div>
                            <div class="metric-value" style="color: ${riskColor}">${riskText}</div>
                        </div>
                    </div>
                </div>

                ${generateStakeholderStrategies(data)}
                ${generatePipelineStrategy(data)}
                ${generateActionPlan(data)}
                ${generateWarnings(data)}
            `;
            
            document.getElementById('relationshipMap').classList.add('show');
            document.getElementById('relationshipMap').scrollIntoView({ behavior: 'smooth' });
        }

        function generateStakeholderStrategies(data) {
            let strategiesHTML = '<div class="pipeline-strategy"><h3 style="color: #2d3748; margin-bottom: 20px;">ğŸ¯ ê°œë³„ ê³µëµ ì „ëµ</h3>';
            
            data.stakeholders.forEach(stakeholder => {
                const intimacyLevel = parseInt(stakeholder.intimacy);
                const strategy = getStakeholderStrategy(stakeholder);
                const priorityClass = getPriorityClass(stakeholder);
                const priorityText = getPriorityText(stakeholder);
                
                strategiesHTML += `
                    <div class="stakeholder-card" style="margin-bottom: 20px;">
                        ${stakeholder.type === 'champion' ? '<div class="champion-indicator">ğŸ† ì±”í”¼ì–¸</div>' : ''}
                        ${stakeholder.type === 'blocker' ? '<div class="blocker-indicator">âš ï¸ ì°¨ë‹¨ì</div>' : ''}
                        
                        <div class="stakeholder-name">${stakeholder.name}</div>
                        <div class="stakeholder-role">${stakeholder.role}</div>
                        <span class="priority-badge ${priorityClass}">${priorityText}</span>
                        
                        <div class="relationship-metrics" style="margin: 15px 0;">
                            <div class="metric-item">
                                <div class="metric-label">ì¹œë°€ë„</div>
                                <div class="metric-value">${intimacyLevel}/10</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">ì˜í–¥ë ¥</div>
                                <div class="metric-value">${getInfluenceText(stakeholder.influence)}</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">íƒœë„</div>
                                <div class="metric-value ${getSentimentClass(stakeholder.sentiment)}">${getSentimentText(stakeholder.sentiment)}</div>
                            </div>
                        </div>
                        
                        <div class="strategy-box">
                            <div class="strategy-title">ğŸ’¡ ê³µëµ ì „ëµ</div>
                            <p>${strategy.approach}</p>
                        </div>
                        
                        <div class="action-items">
                            <div class="action-title">ğŸ“‹ ì‹¤í–‰ ì•¡ì…˜</div>
                            <ul>
                                ${strategy.actions.map(action => `<li>${action}</li>`).join('')}
                            </ul>
                        </div>
                        
                        ${stakeholder.linkedin ? `
                        <div class="strategy-box">
                            <div class="strategy-title">ğŸŒ LinkedIn í™œìš©ë²•</div>
                            <p>í”„ë¡œí•„ ë¶„ì„ì„ í†µí•´ ê³µí†µ ê´€ì‹¬ì‚¬ë‚˜ ë„¤íŠ¸ì›Œí¬ë¥¼ ì°¾ì•„ ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” ì†Œì¬ë¡œ í™œìš©í•˜ì„¸ìš”.</p>
                            <p><strong>ë§í¬:</strong> <a href="${stakeholder.linkedin}" target="_blank">í”„ë¡œí•„ ë³´ê¸°</a></p>
                        </div>
                        ` : ''}
                    </div>
                `;
            });
            
            strategiesHTML += '</div>';
            return strategiesHTML;
        }

        function getStakeholderStrategy(stakeholder) {
            const intimacy = parseInt(stakeholder.intimacy);
            const type = stakeholder.type;
            const sentiment = stakeholder.sentiment;
            const influence = stakeholder.influence;
            
            let approach = '';
            let actions = [];
            
            // ì—­í• ë³„ ê¸°ë³¸ ì „ëµ
            switch(type) {
                case 'decision_maker':
                    approach = 'ìµœì¢… ì˜ì‚¬ê²°ì •ê¶Œìë¡œì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸ì™€ ROIì— ì§‘ì¤‘í•œ ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤. ì „ëµì  ê°€ì¹˜ì™€ ê²½ìŸìš°ìœ„ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜í•˜ì„¸ìš”.';
                    actions = [
                        'ê²½ì˜ì§„ ë ˆë²¨ ìë£Œ ì¤€ë¹„ (ROI, ì „ëµì  ê°€ì¹˜)',
                        'ì—…ê³„ ë²¤ì¹˜ë§ˆí‚¹ ìë£Œ ì œê³µ',
                        'CEO/ì„ì› ë ˆí¼ëŸ°ìŠ¤ ë¯¸íŒ… ì£¼ì„ '
                    ];
                    break;
                case 'influencer':
                    approach = 'ê°•í•œ ì˜í–¥ë ¥ì„ ê°€ì§„ í‚¤ í”Œë ˆì´ì–´ì…ë‹ˆë‹¤. ê¸°ìˆ ì  ìš°ìˆ˜ì„±ê³¼ ì‹¤ìš©ì„±ì„ ëª¨ë‘ ì–´í•„í•˜ë©°, ì´ ë¶„ì„ í†µí•´ ë‹¤ë¥¸ ì´í•´ê´€ê³„ìë“¤ì—ê²Œ ì˜í–¥ì„ ë¯¸ì¹˜ë„ë¡ í•´ì•¼ í•©ë‹ˆë‹¤.';
                    actions = [
                        'ê¸°ìˆ  ë°ëª¨ ë° ìƒì„¸ ê¸°ëŠ¥ ì„¤ëª…',
                        'ë™ì¢…ì—…ê³„ ì„±ê³µì‚¬ë¡€ ê³µìœ ',
                        'ì „ë¬¸ê°€ ë„¤íŠ¸ì›Œí‚¹ ì´ë²¤íŠ¸ ì´ˆì²­'
                    ];
                    break;
                case 'champion':
                    approach = 'ìš°ë¦¬ì˜ ê°•ë ¥í•œ ì§€ì§€ìì…ë‹ˆë‹¤. ì´ ë¶„ì„ í†µí•´ ë‚´ë¶€ ì˜í–¥ë ¥ì„ í™•ì‚°ì‹œí‚¤ê³ , ë” ë§ì€ ì •ë³´ì™€ ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ì–´ì•¼ í•©ë‹ˆë‹¤.';
                    actions = [
                        'ë‚´ë¶€ í”„ë ˆì  í…Œì´ì…˜ ì§€ì› ìë£Œ ì œê³µ',
                        'ì •ê¸°ì ì¸ ì—…ë°ì´íŠ¸ ë¯¸íŒ…',
                        'ì¶”ê°€ ì¸ë§¥ ì†Œê°œ ìš”ì²­'
                    ];
                    break;
                case 'blocker':
                    approach = 'ë°˜ëŒ€ ì˜ê²¬ì„ ê°€ì§„ ë¶„ì…ë‹ˆë‹¤. ìš°ë ¤ì‚¬í•­ì„ ì •í™•íˆ íŒŒì•…í•˜ê³  ë§ì¶¤í˜• ì†”ë£¨ì…˜ìœ¼ë¡œ ì„¤ë“í•´ì•¼ í•©ë‹ˆë‹¤. ì§ì ‘ì ì¸ ëŒ€ê²°ë³´ë‹¤ëŠ” ìš°íšŒì  ì ‘ê·¼ì´ íš¨ê³¼ì ì…ë‹ˆë‹¤.';
                    actions = [
                        'êµ¬ì²´ì ì¸ ìš°ë ¤ì‚¬í•­ íŒŒì•…',
                        'ë§ì¶¤í˜• í•´ê²°ë°©ì•ˆ ì œì‹œ',
                        'ì¤‘ë¦½ì ì¸ ì œ3ìë¥¼ í†µí•œ ê°„ì ‘ ì ‘ê·¼'
                    ];
                    break;
                default:
                    approach = 'í•´ë‹¹ ì—­í• ì— ë§ëŠ” ë§ì¶¤í˜• ì ‘ê·¼ì´ í•„ìš”í•©ë‹ˆë‹¤.';
                    actions = ['ì—­í• ë³„ ë§ì¶¤ ì „ëµ ìˆ˜ë¦½'];
            }
            
            // ì¹œë°€ë„ì— ë”°ë¥¸ ì „ëµ ì¡°ì •
            if (intimacy <= 3) {
                actions.unshift('ê´€ê³„ êµ¬ì¶•ì„ ìœ„í•œ ë¹„ê³µì‹ ë¯¸íŒ… ì£¼ì„ ');
                actions.unshift('ê³µí†µ ê´€ì‹¬ì‚¬ ê¸°ë°˜ ëŒ€í™” ì†Œì¬ ì¤€ë¹„');
            } else if (intimacy >= 8) {
                actions.push('ë” ê¹Šì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë…¼ì˜ ì§„í–‰');
                actions.push('ì¥ê¸°ì  íŒŒíŠ¸ë„ˆì‹­ ê´€ì  ì œì‹œ');
            }
            
            // íƒœë„ì— ë”°ë¥¸ ì „ëµ ì¡°ì •
            if (sentiment === 'hostile' || sentiment === 'skeptical') {
                actions.unshift('ì‹ ë¢° êµ¬ì¶•ì„ ìœ„í•œ ì†Œê·œëª¨ PoC ì œì•ˆ');
            }
            
            return { approach, actions };
        }

        function generatePipelineStrategy(data) {
            const analysis = data.analysis;
            let strategy = '';
            let priority = '';
            
            if (analysis.champions.length === 0) {
                strategy = 'ë‚´ë¶€ ì±”í”¼ì–¸ í™•ë³´ê°€ ìµœìš°ì„ ì…ë‹ˆë‹¤. ê°€ì¥ ìš°í˜¸ì ì¸ ì´í•´ê´€ê³„ìë¥¼ ì±”í”¼ì–¸ìœ¼ë¡œ ì „í™˜í•˜ëŠ”ë° ì§‘ì¤‘í•˜ì„¸ìš”.';
                priority = 'critical';
            } else if (analysis.decisionMakers.length === 0 || analysis.highInfluence.length === 0) {
                strategy = 'ìµœì¢… ì˜ì‚¬ê²°ì •ê¶Œìë‚˜ ê³ ì˜í–¥ë ¥ìì™€ì˜ ì ‘ì ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ì±”í”¼ì–¸ì„ í†µí•´ ì†Œê°œë°›ê±°ë‚˜ ìš°íšŒ ê²½ë¡œë¥¼ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤.';
                priority = 'high';
            } else if (analysis.avgIntimacy < 5) {
                strategy = 'ì „ë°˜ì ì¸ ê´€ê³„ ê¹Šì´ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤. ê´€ê³„ êµ¬ì¶•ì— ë” ë§ì€ ì‹œê°„ê³¼ ë…¸ë ¥ì„ íˆ¬ìí•´ì•¼ í•©ë‹ˆë‹¤.';
                priority = 'high';
            } else {
                strategy = 'ê´€ê³„ ë§¤íŠ¸ë¦­ìŠ¤ê°€ ì–‘í˜¸í•©ë‹ˆë‹¤. êµ¬ì²´ì ì¸ ì œì•ˆê³¼ í˜‘ìƒ ë‹¨ê³„ë¡œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
                priority = 'medium';
            }
            
            return `
                <div class="pipeline-strategy">
                    <h3 style="color: #2d3748; margin-bottom: 15px;">ğŸš€ ì „ì²´ íŒŒì´í”„ë¼ì¸ ì „ëµ</h3>
                    <span class="priority-badge priority-${priority}">${getPriorityKorean(priority)}</span>
                    <p style="margin-top: 15px;">${strategy}</p>
                </div>
            `;
        }

        function generateActionPlan(data) {
            const analysis = data.analysis;
            const actions = [];
            
            // ë‹¨ê³„ë³„ ì•¡ì…˜ í”Œëœ
            if (analysis.champions.length === 0) {
                actions.push('1. ê°€ì¥ ìš°í˜¸ì ì¸ ì´í•´ê´€ê³„ì 2-3ëª…ê³¼ ê°œë³„ ë¯¸íŒ… (1ì£¼ ë‚´)');
                actions.push('2. ë¹„ê³µì‹ ë§Œë‚¨ì„ í†µí•œ ê´€ê³„ ê¹Šì´ í–¥ìƒ (2ì£¼ ë‚´)');
                actions.push('3. ë‚´ë¶€ ìƒí™©ê³¼ ì˜ì‚¬ê²°ì • í”„ë¡œì„¸ìŠ¤ íŒŒì•… (3ì£¼ ë‚´)');
            }
            
            if (analysis.lowIntimacy.length > 0) {
                actions.push(`4. ì¹œë°€ë„ê°€ ë‚®ì€ í•µì‹¬ ì¸ë¬¼ ${analysis.lowIntimacy.length}ëª…ê³¼ ê´€ê³„ êµ¬ì¶• ì§‘ì¤‘`);
            }
            
            if (analysis.blockers.length > 0) {
                actions.push(`5. ë°˜ëŒ€ì ${analysis.blockers.length}ëª…ì˜ ìš°ë ¤ì‚¬í•­ ê°œë³„ ë¶„ì„ ë° ëŒ€ì‘ ë°©ì•ˆ ìˆ˜ë¦½`);
            }
            
            actions.push('6. ì›” 1íšŒ ì •ê¸° ì²´í¬ì¸ ë¯¸íŒ…ìœ¼ë¡œ ê´€ê³„ ì§€ì† ê´€ë¦¬');
            actions.push('7. ë¶„ê¸°ë³„ ê´€ê³„ë„ ì—…ë°ì´íŠ¸ ë° ì „ëµ ì¬ê²€í† ');
            
            return `
                <div class="action-items">
                    <div class="action-title">ğŸ“… 30ì¼ ì•¡ì…˜ í”Œëœ</div>
                    <ol>
                        ${actions.map(action => `<li>${action}</li>`).join('')}
                    </ol>
                </div>
            `;
        }

        function generateWarnings(data) {
            const analysis = data.analysis;
            const warnings = [];
            
            if (analysis.blockers.length > analysis.champions.length) {
                warnings.push('âš ï¸ ë°˜ëŒ€ìê°€ ì§€ì§€ìë³´ë‹¤ ë§ìŠµë‹ˆë‹¤. ë”œ ì„±ê³µ í™•ë¥ ì´ ë‚®ìœ¼ë‹ˆ ì „ëµ ì¬ê²€í† ê°€ í•„ìš”í•©ë‹ˆë‹¤.');
            }
            
            if (analysis.avgIntimacy < 4) {
                warnings.push('âš ï¸ ì „ë°˜ì ì¸ ê´€ê³„ ê¹Šì´ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤. ì„±ê¸‰í•œ ì œì•ˆë³´ë‹¤ëŠ” ê´€ê³„ êµ¬ì¶•ì— ë¨¼ì € ì§‘ì¤‘í•˜ì„¸ìš”.');
            }
            
            if (analysis.decisionMakers.length === 0) {
                warnings.push('âš ï¸ ìµœì¢… ì˜ì‚¬ê²°ì •ê¶Œìì™€ì˜ ì ‘ì ì´ ì—†ìŠµë‹ˆë‹¤. ë”œì´ ë§‰íŒì— ë¬´ì‚°ë  ìœ„í—˜ì´ í½ë‹ˆë‹¤.');
            }
            
            const recentContacts = data.stakeholders.filter(s => {
                if (!s.lastContact) return false;
                const lastContact = new Date(s.lastContact);
                const monthAgo = new Date();
                monthAgo.setMonth(monthAgo.getMonth() - 1);
                return lastContact < monthAgo;
            });
            
            if (recentContacts.length > 0) {
                warnings.push(`âš ï¸ ${recentContacts.length}ëª…ê³¼ í•œ ë‹¬ ì´ìƒ ì ‘ì´‰í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ê´€ê³„ê°€ ì†Œì›í•´ì§ˆ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤.`);
            }
            
            if (warnings.length === 0) {
                return `
                    <div class="action-items">
                        <div class="action-title">âœ… ìƒíƒœ ì ê²€</div>
                        <p>í˜„ì¬ ê´€ê³„ ë§¤íŠ¸ë¦­ìŠ¤ëŠ” ê±´ê°•í•œ ìƒíƒœì…ë‹ˆë‹¤. ì§€ì†ì ì¸ ê´€ë¦¬ë¥¼ í†µí•´ ì„±ê³µì ì¸ ë”œ í´ë¡œì§•ì„ ìœ„í•´ ë…¸ë ¥í•˜ì„¸ìš”.</p>
                    </div>
                `;
            }
            
            return `
                <div class="warning-box">
                    <div class="warning-title">âš ï¸ ì£¼ì˜ì‚¬í•­</div>
                    <ul>
                        ${warnings.map(warning => `<li>${warning}</li>`).join('')}
                    </ul>
                </div>
            `;
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        function getPriorityClass(stakeholder) {
            if (stakeholder.type === 'decision_maker' || stakeholder.influence === 'high') {
                return 'priority-critical';
            } else if (stakeholder.type === 'influencer' || stakeholder.influence === 'medium') {
                return 'priority-high';
            }
            return 'priority-medium';
        }

        function getPriorityText(stakeholder) {
            if (stakeholder.type === 'decision_maker' || stakeholder.influence === 'high') {
                return 'ìµœìš°ì„ ';
            } else if (stakeholder.type === 'influencer' || stakeholder.influence === 'medium') {
                return 'ì¤‘ìš”';
            }
            return 'ì¼ë°˜';
        }

        function getPriorityKorean(priority) {
            const map = {
                'critical': 'ìµœìš°ì„ ',
                'high': 'ë†’ìŒ',
                'medium': 'ë³´í†µ'
            };
            return map[priority] || 'ë³´í†µ';
        }

        function getInfluenceText(influence) {
            const map = {
                'high': 'ë†’ìŒ',
                'medium': 'ì¤‘ê°„',
                'low': 'ë‚®ìŒ'
            };
            return map[influence] || 'ë¯¸ì •';
        }

        function getSentimentClass(sentiment) {
            if (sentiment === 'supporter' || sentiment === 'positive') return 'sentiment-positive';
            if (sentiment === 'hostile' || sentiment === 'skeptical') return 'sentiment-negative';
            return 'sentiment-neutral';
        }

        function getSentimentText(sentiment) {
            const map = {
                'supporter': 'ì ê·¹ ì§€ì§€',
                'positive': 'ìš°í˜¸ì ',
                'neutral': 'ì¤‘ë¦½ì ',
                'skeptical': 'íšŒì˜ì ',
                'hostile': 'ì ëŒ€ì '
            };
            return map[sentiment] || 'ë¯¸ì •';
        }

        // ì´ˆê¸° ì´í•´ê´€ê³„ì 1ê°œ ì¶”ê°€
        window.onload = function() {
            addStakeholder();
        };
    </script>
</body>
</html>